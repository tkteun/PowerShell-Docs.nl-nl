---
ms.date: 09/13/2016
ms.topic: reference
title: Bevestiging vragen vanuit cmdlets
description: Bevestiging vragen vanuit cmdlets
ms.openlocfilehash: fd869d50b185cb4d38269640df58ec284a32da50
ms.sourcegitcommit: 488a940c7c828820b36a6ba56c119f64614afc29
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/27/2020
ms.locfileid: "92646412"
---
# <a name="requesting-confirmation-from-cmdlets"></a><span data-ttu-id="0abd8-103">Bevestiging vragen vanuit cmdlets</span><span class="sxs-lookup"><span data-stu-id="0abd8-103">Requesting Confirmation from Cmdlets</span></span>

<span data-ttu-id="0abd8-104">Cmdlets moeten een bevestiging aanvragen wanneer ze een wijziging aanbrengen in het systeem dat zich buiten de Windows Power shell-omgeving bevindt.</span><span class="sxs-lookup"><span data-stu-id="0abd8-104">Cmdlets should request confirmation when they are about to make a change to the system that is outside of the Windows PowerShell environment.</span></span> <span data-ttu-id="0abd8-105">Als een cmdlet bijvoorbeeld gaat om een gebruikers account toe te voegen of een proces te stoppen, moet de cmdlet bevestiging van de gebruiker vereisen voordat deze wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="0abd8-105">For example, if a cmdlet is about to add a user account or stop a process, the cmdlet should require confirmation from the user before it proceeds.</span></span> <span data-ttu-id="0abd8-106">Als een cmdlet daarentegen een Windows Power shell-variabele wijzigt, hoeft de cmdlet geen bevestiging te vereisen.</span><span class="sxs-lookup"><span data-stu-id="0abd8-106">In contrast, if a cmdlet is about to change a Windows PowerShell variable, the cmdlet does not need to require confirmation.</span></span>

<span data-ttu-id="0abd8-107">Als u een aanvraag wilt indienen, moet de cmdlet aangeven dat deze bevestigings aanvragen ondersteunt en moet deze de methoden [System. Management. Automation. cmdlet. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) en [System. Management. Automation](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) . cmdlet. ShouldContinue (optioneel) aanroepen om een bevestigings aanvraag bericht weer te geven.</span><span class="sxs-lookup"><span data-stu-id="0abd8-107">In order to make a confirmation request, the cmdlet must indicate that it supports confirmation requests, and it must call the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) and [System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) (optional) methods to display a confirmation request message.</span></span>

## <a name="supporting-confirmation-requests"></a><span data-ttu-id="0abd8-108">Bevestigings aanvragen ondersteunen</span><span class="sxs-lookup"><span data-stu-id="0abd8-108">Supporting Confirmation Requests</span></span>

<span data-ttu-id="0abd8-109">Ter ondersteuning van bevestigings aanvragen moet de cmdlet de `SupportsShouldProcess` para meter van het cmdlet-kenmerk instellen op `true` .</span><span class="sxs-lookup"><span data-stu-id="0abd8-109">To support confirmation requests, the cmdlet must set the `SupportsShouldProcess` parameter of the Cmdlet attribute to `true`.</span></span> <span data-ttu-id="0abd8-110">Hierdoor worden de `Confirm` `WhatIf` para meters en cmdlets van Windows Power shell ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="0abd8-110">This enables the `Confirm` and `WhatIf` cmdlet parameters that are provided by Windows PowerShell.</span></span> <span data-ttu-id="0abd8-111">`Confirm`Met de para meter kan de gebruiker bepalen of de bevestigings aanvraag wordt weer gegeven.</span><span class="sxs-lookup"><span data-stu-id="0abd8-111">The `Confirm` parameter allows the user to control whether the confirmation request is displayed.</span></span> <span data-ttu-id="0abd8-112">`WhatIf`Met de para meter kan de gebruiker bepalen of de cmdlet een bericht moet weer geven of de actie kan uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="0abd8-112">The `WhatIf` parameter allows the user to determine whether the cmdlet should display a message or perform its action.</span></span> <span data-ttu-id="0abd8-113">Voeg de `Confirm` para meters en niet hand matig toe `WhatIf` aan een cmdlet.</span><span class="sxs-lookup"><span data-stu-id="0abd8-113">Do not manually add the `Confirm` and `WhatIf` parameters to a cmdlet.</span></span>

<span data-ttu-id="0abd8-114">In het volgende voor beeld ziet u een cmdlet-kenmerk declaratie die ondersteuning biedt voor bevestigings aanvragen.</span><span class="sxs-lookup"><span data-stu-id="0abd8-114">The following example shows a Cmdlet attribute declaration that supports confirmation requests.</span></span>

```csharp
[Cmdlet(VerbsDiagnostic.Test, "RequestConfirmationTemplate1",
        SupportsShouldProcess = true)]
```

## <a name="calling-the-confirmation-request-methods"></a><span data-ttu-id="0abd8-115">De bevestigings aanvraag methoden aanroepen</span><span class="sxs-lookup"><span data-stu-id="0abd8-115">Calling the Confirmation request methods</span></span>

<span data-ttu-id="0abd8-116">Roep in de cmdlet-code de methode [System. Management. Automation. cmdlet. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) aan voordat de bewerking wordt uitgevoerd die het systeem wijzigt.</span><span class="sxs-lookup"><span data-stu-id="0abd8-116">In the cmdlet code, call the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) method before the operation that changes the system is performed.</span></span> <span data-ttu-id="0abd8-117">Ontwerp de cmdlet zodanig dat als de aanroep een waarde van retourneert `false` , de bewerking niet wordt uitgevoerd en de cmdlet de volgende bewerking verwerkt.</span><span class="sxs-lookup"><span data-stu-id="0abd8-117">Design the cmdlet so that if the call returns a value of `false`, the operation is not performed, and the cmdlet processes the next operation.</span></span>

## <a name="calling-the-shouldcontinue-method"></a><span data-ttu-id="0abd8-118">De ShouldContinue-methode aanroepen</span><span class="sxs-lookup"><span data-stu-id="0abd8-118">Calling the ShouldContinue Method</span></span>

<span data-ttu-id="0abd8-119">De meeste cmdlets vragen om bevestiging met alleen de methode [System. Management. Automation. cmdlet. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) .</span><span class="sxs-lookup"><span data-stu-id="0abd8-119">Most cmdlets request confirmation using only the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) method.</span></span> <span data-ttu-id="0abd8-120">In sommige gevallen is mogelijk echter extra bevestiging vereist.</span><span class="sxs-lookup"><span data-stu-id="0abd8-120">However, some cases might require additional confirmation.</span></span> <span data-ttu-id="0abd8-121">Voor deze gevallen moet u de aanroep [System. Management. Automation. cmdlet. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) aanvullen met een aanroep van de methode [System. Management. Automation. cmdlet. ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) .</span><span class="sxs-lookup"><span data-stu-id="0abd8-121">For these cases, supplement the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) call with a call to the [System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) method.</span></span> <span data-ttu-id="0abd8-122">Hierdoor kan de cmdlet of provider het bereik van de **Ja-naar-alle** -antwoorden op de bevestigings prompt nauw keuriger beheren.</span><span class="sxs-lookup"><span data-stu-id="0abd8-122">This allows the cmdlet or provider to more finely control the scope of the **Yes to all** response to the confirmation prompt.</span></span>

<span data-ttu-id="0abd8-123">Als een cmdlet de methode [System. Management. Automation. cmdlet. ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) aanroept, moet de cmdlet ook een `Force` Switch parameter opgeven.</span><span class="sxs-lookup"><span data-stu-id="0abd8-123">If a cmdlet calls the [System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) method, the cmdlet must also provide a `Force` switch parameter.</span></span> <span data-ttu-id="0abd8-124">Als de gebruiker opgeeft `Force` wanneer de gebruiker de cmdlet aanroept, moet de cmdlet [System. Management. Automation. cmdlet. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess)wel aanroepen, maar moet de aanroep naar [System. Management. Automation. cmdlet. ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue)worden omzeild.</span><span class="sxs-lookup"><span data-stu-id="0abd8-124">If the user specifies `Force` when the user invokes the cmdlet, the cmdlet should still call [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess), but it should bypass the call to [System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue).</span></span>

<span data-ttu-id="0abd8-125">[System. Management. Automation. cmdlet. ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) genereert een uitzonde ring wanneer deze wordt aangeroepen vanuit een niet-interactieve omgeving waar de gebruiker niet kan worden gevraagd.</span><span class="sxs-lookup"><span data-stu-id="0abd8-125">[System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) will throw an exception when it is called from a non-interactive environment where the user cannot be prompted.</span></span> <span data-ttu-id="0abd8-126">Door een `Force` para meter toe te voegen, zorgt u ervoor dat de opdracht nog steeds kan worden uitgevoerd wanneer deze wordt aangeroepen in een niet-interactieve omgeving.</span><span class="sxs-lookup"><span data-stu-id="0abd8-126">Adding a `Force` parameter ensures that the command can still be performed when it is invoked in a non-interactive environment.</span></span>

<span data-ttu-id="0abd8-127">In het volgende voor beeld ziet u hoe [System. Management. Automation. cmdlet. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) en [System. Management. Automation. cmdlet. ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue)wordt aangeroepen.</span><span class="sxs-lookup"><span data-stu-id="0abd8-127">The following example shows how to call [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) and [System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue).</span></span>

```csharp
if (ShouldProcess (...) )
{
  if (Force || ShouldContinue(...))
  {
     // Add code that performs the operation.
  }
}
```

<span data-ttu-id="0abd8-128">Het gedrag van de aanroep [System. Management. Automation. cmdlet. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) kan variëren, afhankelijk van de omgeving waarin de cmdlet is aangeroepen.</span><span class="sxs-lookup"><span data-stu-id="0abd8-128">The behavior of a [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) call can vary depending on the environment in which the cmdlet is invoked.</span></span> <span data-ttu-id="0abd8-129">Met de vorige richt lijnen kunt u ervoor zorgen dat de cmdlet consistent werkt met andere cmdlets, ongeacht de hostomgeving.</span><span class="sxs-lookup"><span data-stu-id="0abd8-129">Using the previous guidelines will help ensure that the cmdlet behaves consistently with other cmdlets, regardless of the host environment.</span></span>

<span data-ttu-id="0abd8-130">Zie [bevestigingen aanvragen](./how-to-request-confirmations.md)voor een voor beeld van het aanroepen van de methode [System. Management. Automation. cmdlet. ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) .</span><span class="sxs-lookup"><span data-stu-id="0abd8-130">For an example of calling the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) method, see [How to Request Confirmations](./how-to-request-confirmations.md).</span></span>

## <a name="specify-the-impact-level"></a><span data-ttu-id="0abd8-131">Het niveau van de impact opgeven</span><span class="sxs-lookup"><span data-stu-id="0abd8-131">Specify the Impact Level</span></span>

<span data-ttu-id="0abd8-132">Wanneer u de cmdlet maakt, geeft u het impact niveau (de ernst) van de wijziging op.</span><span class="sxs-lookup"><span data-stu-id="0abd8-132">When you create the cmdlet, specify the impact level (the severity) of the change.</span></span> <span data-ttu-id="0abd8-133">Als u dit wilt doen, stelt u de waarde van de `ConfirmImpact` para meter van het cmdlet-kenmerk in op hoog, gemiddeld of laag.</span><span class="sxs-lookup"><span data-stu-id="0abd8-133">To do this, set the value of the `ConfirmImpact` parameter of the Cmdlet attribute to High, Medium, or Low.</span></span> <span data-ttu-id="0abd8-134">U kunt alleen een waarde opgeven voor `ConfirmImpact` Wanneer u ook de `SupportsShouldProcess` para meter voor de cmdlet opgeeft.</span><span class="sxs-lookup"><span data-stu-id="0abd8-134">You can specify a value for `ConfirmImpact` only when you also specify the `SupportsShouldProcess` parameter for the cmdlet.</span></span>

<span data-ttu-id="0abd8-135">Voor de meeste cmdlets hoeft u niet expliciet op te geven `ConfirmImpact` .</span><span class="sxs-lookup"><span data-stu-id="0abd8-135">For most cmdlets, you do not have to explicitly specify `ConfirmImpact`.</span></span>  <span data-ttu-id="0abd8-136">Gebruik in plaats daarvan de standaard instelling van de para meter, die gemiddeld is.</span><span class="sxs-lookup"><span data-stu-id="0abd8-136">Instead, use the default setting of the parameter, which is Medium.</span></span> <span data-ttu-id="0abd8-137">Als u `ConfirmImpact` op hoog instelt, wordt de bewerking standaard bevestigd.</span><span class="sxs-lookup"><span data-stu-id="0abd8-137">If you set `ConfirmImpact` to High, the operation will be confirmed by default.</span></span> <span data-ttu-id="0abd8-138">Reserveer deze instelling voor zeer storende acties, zoals het opnieuw Format teren van een harde schijf volume.</span><span class="sxs-lookup"><span data-stu-id="0abd8-138">Reserve this setting for highly disruptive actions, such as reformatting a hard-disk volume.</span></span>

## <a name="calling-non-confirmation-methods"></a><span data-ttu-id="0abd8-139">Niet-bevestigings methoden aanroepen</span><span class="sxs-lookup"><span data-stu-id="0abd8-139">Calling Non-Confirmation Methods</span></span>

<span data-ttu-id="0abd8-140">Als de cmdlet of provider een bericht wil verzenden, maar niet de aanvraag moet worden bevestigd, kan dit de volgende drie methoden aanroepen.</span><span class="sxs-lookup"><span data-stu-id="0abd8-140">If the cmdlet or provider must send a message but not request confirmation, it can call the following three methods.</span></span> <span data-ttu-id="0abd8-141">Vermijd het gebruik van de methode [System. Management. Automation. cmdlet. WriteObject](/dotnet/api/System.Management.Automation.Cmdlet.WriteObject) voor het verzenden van berichten van deze typen omdat de uitvoer van [System. Management. Automation. cmdlet. WriteObject](/dotnet/api/System.Management.Automation.Cmdlet.WriteObject) is vermengd met de normale uitvoer van uw cmdlet of provider, waardoor het schrijven van scripts wordt gelastigt.</span><span class="sxs-lookup"><span data-stu-id="0abd8-141">Avoid using the [System.Management.Automation.Cmdlet.WriteObject](/dotnet/api/System.Management.Automation.Cmdlet.WriteObject) method to send messages of these types because [System.Management.Automation.Cmdlet.WriteObject](/dotnet/api/System.Management.Automation.Cmdlet.WriteObject) output is intermingled with the normal output of your cmdlet or provider, which makes script writing difficult.</span></span>

- <span data-ttu-id="0abd8-142">De cmdlet of provider kan de methode [System. Management. Automation. cmdlet. WriteWarning](/dotnet/api/System.Management.Automation.Cmdlet.WriteWarning) aanroepen om de gebruiker ervan op de opdracht te zorgen en de bewerking voort te zetten.</span><span class="sxs-lookup"><span data-stu-id="0abd8-142">To caution the user and continue with the operation, the cmdlet or provider can call the [System.Management.Automation.Cmdlet.WriteWarning](/dotnet/api/System.Management.Automation.Cmdlet.WriteWarning) method.</span></span>

- <span data-ttu-id="0abd8-143">Om aanvullende informatie te bieden die de gebruiker kan ophalen met behulp van de `Verbose` para meter, kan de cmdlet of provider de methode [System. Management. Automation. cmdlet. WriteVerbose](/dotnet/api/System.Management.Automation.Cmdlet.WriteVerbose) aanroepen.</span><span class="sxs-lookup"><span data-stu-id="0abd8-143">To provide additional information that the user can retrieve using the `Verbose` parameter, the cmdlet or provider can call the [System.Management.Automation.Cmdlet.WriteVerbose](/dotnet/api/System.Management.Automation.Cmdlet.WriteVerbose) method.</span></span>

- <span data-ttu-id="0abd8-144">Om details over fout opsporing op te geven voor andere ontwikkel aars of voor product ondersteuning, kan de cmdlet of provider de methode [System. Management. Automation. cmdlet. WriteDebug](/dotnet/api/System.Management.Automation.Cmdlet.WriteDebug) aanroepen.</span><span class="sxs-lookup"><span data-stu-id="0abd8-144">To provide debugging-level detail for other developers or for product support, the cmdlet or provider can call the [System.Management.Automation.Cmdlet.WriteDebug](/dotnet/api/System.Management.Automation.Cmdlet.WriteDebug) method.</span></span> <span data-ttu-id="0abd8-145">De gebruiker kan deze gegevens ophalen met behulp van de `Debug` para meter.</span><span class="sxs-lookup"><span data-stu-id="0abd8-145">The user can retrieve this information using the `Debug` parameter.</span></span>

<span data-ttu-id="0abd8-146">Cmdlets en providers roepen eerst de volgende methoden aan om bevestiging aan te vragen voordat ze een bewerking proberen uit te voeren die een systeem buiten Windows Power shell wijzigt:</span><span class="sxs-lookup"><span data-stu-id="0abd8-146">Cmdlets and providers first call the following methods to request confirmation before they attempt to perform an operation that changes a system outside of Windows PowerShell:</span></span>

- [<span data-ttu-id="0abd8-147">System. Management. Automation. cmdlet. Shouldprocess</span><span class="sxs-lookup"><span data-stu-id="0abd8-147">System.Management.Automation.Cmdlet.Shouldprocess</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess)

- [<span data-ttu-id="0abd8-148">System. Management. Automation. provider. Cmdletprovider. Shouldprocess</span><span class="sxs-lookup"><span data-stu-id="0abd8-148">System.Management.Automation.Provider.Cmdletprovider.Shouldprocess</span></span>](/dotnet/api/System.Management.Automation.Provider.CmdletProvider.ShouldProcess)

<span data-ttu-id="0abd8-149">Dit doet u door de methode [System. Management. Automation. cmdlet. Shouldprocess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) aan te roepen, waarmee de gebruiker wordt gevraagd de bewerking te bevestigen op basis van de manier waarop de gebruiker de opdracht heeft aangeroepen.</span><span class="sxs-lookup"><span data-stu-id="0abd8-149">They do so by calling the [System.Management.Automation.Cmdlet.Shouldprocess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) method, which prompts the user to confirm the operation based on how the user invoked the command.</span></span>

## <a name="see-also"></a><span data-ttu-id="0abd8-150">Zie ook</span><span class="sxs-lookup"><span data-stu-id="0abd8-150">See Also</span></span>

[<span data-ttu-id="0abd8-151">Een Windows PowerShell-cmdlet schrijven</span><span class="sxs-lookup"><span data-stu-id="0abd8-151">Writing a Windows PowerShell Cmdlet</span></span>](./writing-a-windows-powershell-cmdlet.md)
