---
ms.date: 06/27/2017
keywords: Power shell, cmdlet
title: Autorisatieregels en beveiligingsfuncties van Windows PowerShell-internettoegang
ms.openlocfilehash: c426b8cfb10829241ba244a5d840c91e1de9f66e
ms.sourcegitcommit: 4a26c05f162c4fa347a9d67e339f8a33e230b9ba
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 03/06/2020
ms.locfileid: "78405231"
---
# <a name="authorization-rules-and-security-features-of-windows-powershell-web-access"></a><span data-ttu-id="3e85c-103">Autorisatieregels en beveiligingsfuncties van Windows PowerShell-internettoegang</span><span class="sxs-lookup"><span data-stu-id="3e85c-103">Authorization Rules and Security Features of Windows PowerShell Web Access</span></span>

<span data-ttu-id="3e85c-104">Bijgewerkt: 24 juni 2013</span><span class="sxs-lookup"><span data-stu-id="3e85c-104">Updated: June 24, 2013</span></span>

<span data-ttu-id="3e85c-105">Van toepassing op: Windows Server 2012 R2, Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="3e85c-105">Applies To: Windows Server 2012 R2, Windows Server 2012</span></span>

<span data-ttu-id="3e85c-106">Windows Power shell Web Access in Windows Server 2012 R2 en Windows Server 2012 heeft een beperkt beveiligings model.</span><span class="sxs-lookup"><span data-stu-id="3e85c-106">Windows PowerShell Web Access in Windows Server 2012 R2 and Windows Server 2012 has a restrictive security model.</span></span> <span data-ttu-id="3e85c-107">Gebruikers moeten uitdrukkelijk toegang worden verleend voordat ze zich kunnen aanmelden bij de gateway voor Windows Power shell-webtoegang en de Windows Power shell-console van het web gebruiken.</span><span class="sxs-lookup"><span data-stu-id="3e85c-107">Users must explicitly be granted access before they can sign in to the Windows PowerShell Web Access gateway and use the web-based Windows PowerShell console.</span></span>

## <a name="configuring-authorization-rules-and-site-security"></a><span data-ttu-id="3e85c-108">Autorisatieregels en sitebeveiliging configureren</span><span class="sxs-lookup"><span data-stu-id="3e85c-108">Configuring authorization rules and site security</span></span>

<span data-ttu-id="3e85c-109">Nadat Windows Power shell-webtoegang is geïnstalleerd en de gateway is geconfigureerd, kunnen gebruikers de aanmeldings pagina in een browser openen, maar ze kunnen zich niet aanmelden totdat de beheerder van Windows Power shell-webtoegang expliciet toegang verleent voor gebruikers.</span><span class="sxs-lookup"><span data-stu-id="3e85c-109">After Windows PowerShell Web Access is installed and the gateway is configured, users can open the sign-in page in a browser, but they cannot sign in until the Windows PowerShell Web Access administrator grants users access explicitly.</span></span> <span data-ttu-id="3e85c-110">Toegangs beheer voor Windows Power shell-webtoegang wordt beheerd met behulp van de set Windows Power shell-cmdlets die in de volgende tabel worden beschreven.</span><span class="sxs-lookup"><span data-stu-id="3e85c-110">'Windows PowerShell Web Access' access control is managed by using the set of Windows PowerShell cmdlets described in the following table.</span></span> <span data-ttu-id="3e85c-111">Er is geen vergelijkbare grafische gebruikersinterface voor het toevoegen of beheren van autorisatieregels.</span><span class="sxs-lookup"><span data-stu-id="3e85c-111">There is no comparable GUI for adding or managing authorization rules.</span></span>
<span data-ttu-id="3e85c-112">Zie [cmdlets voor Windows Power shell Web Access](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span><span class="sxs-lookup"><span data-stu-id="3e85c-112">See [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span></span>

<span data-ttu-id="3e85c-113">Beheerders kunnen `{0-n}` verificatie regels definiëren voor Windows Power shell-webtoegang.</span><span class="sxs-lookup"><span data-stu-id="3e85c-113">Administrators can define `{0-n}` authentication rules for Windows PowerShell Web Access.</span></span> <span data-ttu-id="3e85c-114">De standaardbeveiliging is beperkend, niet toelatend. Als er geen verificatieregels zijn, heeft geen enkele gebruiker toegang tot iets.</span><span class="sxs-lookup"><span data-stu-id="3e85c-114">The default security is restrictive rather than permissive; zero authentication rules means no users have access to anything.</span></span>

<span data-ttu-id="3e85c-115">[Add-PswaAuthorizationRule](/powershell/module/powershellwebaccess/add-pswaauthorizationrule?view=winserver2012r2-ps) en [test-PswaAuthorizationRule](/powershell/module/powershellwebaccess/test-pswaauthorizationrule?view=winserver2012r2-ps) in Windows Server 2012 R2 bevatten een referentie parameter waarmee u Windows Power shell-autorisatie regels voor webtoegang vanaf een externe computer kunt toevoegen en testen, of vanuit een actieve Windows Power shell-sessie voor Internet toegang.</span><span class="sxs-lookup"><span data-stu-id="3e85c-115">[Add-PswaAuthorizationRule](/powershell/module/powershellwebaccess/add-pswaauthorizationrule?view=winserver2012r2-ps) and [Test-PswaAuthorizationRule](/powershell/module/powershellwebaccess/test-pswaauthorizationrule?view=winserver2012r2-ps) in Windows Server 2012 R2 include a Credential parameter that allows you to add and test Windows PowerShell Web Access authorization rules from a remote computer, or from within an active Windows PowerShell Web Access session.</span></span> <span data-ttu-id="3e85c-116">Net als bij andere Windows Power shell-cmdlets die een referentie parameter hebben, kunt u een PSCredential-object opgeven als de waarde van de para meter.</span><span class="sxs-lookup"><span data-stu-id="3e85c-116">As with other Windows PowerShell cmdlets that have a Credential parameter, you can specify a PSCredential object as the value of the parameter.</span></span> <span data-ttu-id="3e85c-117">Als u een PSCredential-object wilt maken dat referenties bevat die u wilt door geven aan een externe computer, voert u de cmdlet [Get-Credential](/powershell/module/microsoft.powershell.security/Get-Credential) uit.</span><span class="sxs-lookup"><span data-stu-id="3e85c-117">To create a PSCredential object that contains credentials you want to pass to a remote computer, run the [Get-Credential](/powershell/module/microsoft.powershell.security/Get-Credential) cmdlet.</span></span>

<span data-ttu-id="3e85c-118">Windows Power shell-verificatie regels voor webtoegang zijn white list-regels.</span><span class="sxs-lookup"><span data-stu-id="3e85c-118">Windows PowerShell Web Access authentication rules are whitelist rules.</span></span> <span data-ttu-id="3e85c-119">Elke regel is een definitie van een toegestane verbinding tussen gebruikers, doel computers en specifieke Windows Power shell- [sessie configuraties](/powershell/module/microsoft.powershell.core/about/about_session_configurations?view=powershell-5.1) (ook wel eind punten of _runspaces_) op opgegeven doel computers.</span><span class="sxs-lookup"><span data-stu-id="3e85c-119">Each rule is a definition of an allowed connection between users, target computers, and particular Windows PowerShell [session configurations](/powershell/module/microsoft.powershell.core/about/about_session_configurations?view=powershell-5.1) (also referred to as endpoints or _runspaces_) on specified target computers.</span></span>
<span data-ttu-id="3e85c-120">Zie beginnen met het [gebruik van Power shell runspaces](https://blogs.technet.microsoft.com/heyscriptingguy/2015/11/26/beginning-use-of-powershell-runspaces-part-1/) voor een uitleg over **runspaces** .</span><span class="sxs-lookup"><span data-stu-id="3e85c-120">For an explanation on **runspaces** see [Beginning Use of PowerShell Runspaces](https://blogs.technet.microsoft.com/heyscriptingguy/2015/11/26/beginning-use-of-powershell-runspaces-part-1/)</span></span>

> [!IMPORTANT]
> <span data-ttu-id="3e85c-121">Voor een gebruiker hoeft slechts één regel waar te zijn om ervoor te zorgen dat hij of zij toegang krijgt.</span><span class="sxs-lookup"><span data-stu-id="3e85c-121">A user needs only one rule to be true to get access.</span></span> <span data-ttu-id="3e85c-122">Als een gebruiker toegang heeft tot een computer met volledige taal toegang of alleen toegang tot Windows Power shell-cmdlets voor extern beheer, kan de gebruiker zich op de webgebaseerde console aanmelden (of hop) naar andere computers die zijn verbonden met de eerste doel computer.</span><span class="sxs-lookup"><span data-stu-id="3e85c-122">If a user is given access to one computer with either full language access or access only to Windows PowerShell remote management cmdlets, from the web-based console, the user can log on (or hop) to other computers that are connected to the first target computer.</span></span> <span data-ttu-id="3e85c-123">De veiligste manier om Windows Power shell Web Access te configureren is om gebruikers toegang te geven tot beperkte sessie configuraties waarmee ze specifieke taken kunnen uitvoeren die ze normaal gesp roken op afstand moeten uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="3e85c-123">The most secure way to configure Windows PowerShell Web Access is to allow users access only to constrained session configurations that allow them to accomplish specific tasks that they normally need to perform remotely.</span></span>

<span data-ttu-id="3e85c-124">Met de cmdlets waarnaar wordt verwezen in [Windows Power shell Web Access-cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps) , kunt u een set toegangs regels maken die worden gebruikt om een gebruiker op de Windows Power shell Web Access-Gateway te autoriseren.</span><span class="sxs-lookup"><span data-stu-id="3e85c-124">The cmdlets referenced in [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps) allow to create a set of access rules which are used to authorize a user on the Windows PowerShell Web Access gateway.</span></span> <span data-ttu-id="3e85c-125">De regels verschillen van de toegangsbeheerlijsten (ACL’s) op de doelcomputer en bieden een extra beveiligingslaag voor internettoegang.</span><span class="sxs-lookup"><span data-stu-id="3e85c-125">The rules are different from the access control lists (ACLs) on the destination computer, and provide an additional layer of security for web access.</span></span> <span data-ttu-id="3e85c-126">Meer informatie over beveiliging vindt u in het volgende gedeelte.</span><span class="sxs-lookup"><span data-stu-id="3e85c-126">More details about security are described in the following section.</span></span>

<span data-ttu-id="3e85c-127">Als gebruikers geen van de voor gaande beveiligings lagen kunnen door geven, krijgen ze het bericht ' toegang geweigerd ' te zien in hun browser venster.</span><span class="sxs-lookup"><span data-stu-id="3e85c-127">If users cannot pass any of the preceding security layers, they receive a generic 'access denied' message in their browser windows.</span></span> <span data-ttu-id="3e85c-128">Hoewel beveiligingsgegevens worden geregistreerd op de gatewayserver, zien eindgebruikers geen informatie over hoeveel beveiligingslagen ze zijn gepasseerd of op welke laag de aanmeldings- of verificatiefout is opgetreden.</span><span class="sxs-lookup"><span data-stu-id="3e85c-128">Although security details are logged on the gateway server, end users are not shown information about how many security layers they passed, or at which layer the sign-in or authentication failure occurred.</span></span>

<span data-ttu-id="3e85c-129">Zie [autorisatie regels configureren](#configuring-authorization-rules-and-site-security) in dit onderwerp voor meer informatie over het configureren van autorisatie regels.</span><span class="sxs-lookup"><span data-stu-id="3e85c-129">For more information about configuring authorization rules, see [configuring authorization rules](#configuring-authorization-rules-and-site-security) in this topic.</span></span>

### <a name="security"></a><span data-ttu-id="3e85c-130">Beveiliging</span><span class="sxs-lookup"><span data-stu-id="3e85c-130">Security</span></span>

<span data-ttu-id="3e85c-131">Het beveiligings model van Windows Power shell-webtoegang heeft vier lagen tussen een eind gebruiker van de webconsole en een doel computer.</span><span class="sxs-lookup"><span data-stu-id="3e85c-131">The Windows PowerShell Web Access security model has four layers between an end user of the web-based console, and a target computer.</span></span> <span data-ttu-id="3e85c-132">Beheerders van Windows Power shell-webtoegang kunnen beveiligings lagen toevoegen via aanvullende configuratie in de IIS-beheer console.</span><span class="sxs-lookup"><span data-stu-id="3e85c-132">Windows PowerShell Web Access administrators can add security layers through additional configuration in the IIS Manager console.</span></span> <span data-ttu-id="3e85c-133">Zie [Configure Web Server Security (IIS7) (Engelstalig)](https://technet.microsoft.com/library/cc731278)voor meer informatie over het beveiligen van websites in de IIS-beheer console.</span><span class="sxs-lookup"><span data-stu-id="3e85c-133">For more information about securing websites in the IIS Manager console, see [Configure Web Server Security (IIS7)](https://technet.microsoft.com/library/cc731278).</span></span>

<span data-ttu-id="3e85c-134">Zie [Aanbevolen procedures voor het voor komen van DOS/denial of service-aanvallen](https://technet.microsoft.com/library/cc750213)voor meer informatie over aanbevolen procedures voor IIS en denial-of-service-aanvallen te voor komen.</span><span class="sxs-lookup"><span data-stu-id="3e85c-134">For more information about IIS best practices and preventing denial-of-service attacks, see [Best Practices for Preventing DoS/Denial of Service Attacks](https://technet.microsoft.com/library/cc750213).</span></span>
<span data-ttu-id="3e85c-135">Een beheerder kan ook aanvullende Retail-verificatie software kopen en installeren.</span><span class="sxs-lookup"><span data-stu-id="3e85c-135">An administrator can also buy and install additional retail authentication software.</span></span>

<span data-ttu-id="3e85c-136">In de volgende tabel worden de vier beveiligingslagen tussen eindgebruikers en doelcomputers beschreven.</span><span class="sxs-lookup"><span data-stu-id="3e85c-136">The following table describes the four layers of security between end users and target computers.</span></span>

|<span data-ttu-id="3e85c-137">Niveau</span><span class="sxs-lookup"><span data-stu-id="3e85c-137">Level</span></span>|<span data-ttu-id="3e85c-138">Laag</span><span class="sxs-lookup"><span data-stu-id="3e85c-138">Layer</span></span>|
|-|-|
|<span data-ttu-id="3e85c-139">1</span><span class="sxs-lookup"><span data-stu-id="3e85c-139">1</span></span>|[<span data-ttu-id="3e85c-140">beveiligings functies van IIS-webserver</span><span class="sxs-lookup"><span data-stu-id="3e85c-140">iis web server security features</span></span>](#iis-web-server-security-features)|
|<span data-ttu-id="3e85c-141">2</span><span class="sxs-lookup"><span data-stu-id="3e85c-141">2</span></span>|[<span data-ttu-id="3e85c-142">Windows Power shell Web Access-verificatie op basis van een gateway</span><span class="sxs-lookup"><span data-stu-id="3e85c-142">windows powershell web access forms-based gateway authentication</span></span>](#windows-powershell-web-access-forms-based-gateway-authentication)|
|<span data-ttu-id="3e85c-143">3</span><span class="sxs-lookup"><span data-stu-id="3e85c-143">3</span></span>|[<span data-ttu-id="3e85c-144">Windows Power shell-autorisatie regels voor webtoegang</span><span class="sxs-lookup"><span data-stu-id="3e85c-144">windows powershell web access authorization rules</span></span>](#windows-powershell-web-access-authorization-rules)|
|<span data-ttu-id="3e85c-145">4</span><span class="sxs-lookup"><span data-stu-id="3e85c-145">4</span></span>|[<span data-ttu-id="3e85c-146">verificatie-en autorisatie regels voor doel</span><span class="sxs-lookup"><span data-stu-id="3e85c-146">target authentication and authorization rules</span></span>](#target-authentication-and-authorization-rules)|

<span data-ttu-id="3e85c-147">Gedetailleerde informatie over elke laag vindt u in de volgende koppen:</span><span class="sxs-lookup"><span data-stu-id="3e85c-147">Detailed information about each layer can be found under the following headings:</span></span>

#### <a name="iis-web-server-security-features"></a><span data-ttu-id="3e85c-148">Beveiligings functies van IIS-webserver</span><span class="sxs-lookup"><span data-stu-id="3e85c-148">IIS Web Server security features</span></span>

<span data-ttu-id="3e85c-149">Gebruikers van Windows Power shell-webtoegang moeten altijd een gebruikers naam en wacht woord opgeven om hun accounts op de gateway te verifiëren.</span><span class="sxs-lookup"><span data-stu-id="3e85c-149">Windows PowerShell Web Access users must always provide a user name and password to authenticate their accounts on the gateway.</span></span> <span data-ttu-id="3e85c-150">Windows Power shell-webtoegang kan echter ook optioneel verificatie van client certificaten in-of uitschakelen. Zie [Windows Power shell-webtoegang installeren en gebruiken](install-and-use-windows-powershell-web-access.md) om een test certificaat in te scha kelen en, later, hoe u een authentiek certificaat configureert).</span><span class="sxs-lookup"><span data-stu-id="3e85c-150">However, Windows PowerShell Web Access administrators can also turn optional client certificate authentication on or off, see [install and use windows powershell web access](install-and-use-windows-powershell-web-access.md) to enable a test certificate and, later, how to configure a genuine certificate).</span></span>

<span data-ttu-id="3e85c-151">De optionele functie voor clientcertificaten vereist dat eindgebruikers beschikken over een geldig clientcertificaat naast hun gebruikersnaam en wachtwoord en maakt deel uit van de webserverconfiguratie (IIS).</span><span class="sxs-lookup"><span data-stu-id="3e85c-151">The optional client certificate feature requires end users to have a valid client certificate, in addition to their user names and passwords, and is part of Web Server (IIS) configuration.</span></span> <span data-ttu-id="3e85c-152">Wanneer de client certificaat laag is ingeschakeld, vraagt de aanmeldings pagina van Windows Power shell-webtoegang gebruikers geldige certificaten op te geven voordat hun aanmeldings referenties worden geëvalueerd.</span><span class="sxs-lookup"><span data-stu-id="3e85c-152">When the client certificate layer is enabled, the Windows PowerShell Web Access sign-in page prompts users to provide valid certificates before their sign-in credentials are evaluated.</span></span> <span data-ttu-id="3e85c-153">Bij verificatie van clientcertificaten wordt het clientcertificaat automatisch gecontroleerd.</span><span class="sxs-lookup"><span data-stu-id="3e85c-153">Client certificate authentication automatically checks for the client certificate.</span></span> <span data-ttu-id="3e85c-154">Als er geen geldig certificaat wordt gevonden, worden gebruikers door Windows Power shell-webtoegang op de hoogte gebracht zodat het certificaat kan worden verstrekt.</span><span class="sxs-lookup"><span data-stu-id="3e85c-154">If a valid certificate is not found, Windows PowerShell Web Access informs users, so they can provide the certificate.</span></span> <span data-ttu-id="3e85c-155">Als er een geldig client certificaat wordt gevonden, wordt in Windows Power shell Web Access de aanmeldings pagina geopend zodat gebruikers hun gebruikers namen en wacht woorden kunnen opgeven.</span><span class="sxs-lookup"><span data-stu-id="3e85c-155">If a valid client certificate is found, Windows PowerShell Web Access opens the sign-in page for users to provide their user names and passwords.</span></span>

<span data-ttu-id="3e85c-156">Dit is een voor beeld van aanvullende beveiligings instellingen die worden aangeboden door de IIS-webserver.</span><span class="sxs-lookup"><span data-stu-id="3e85c-156">This is one example of additional security settings that are offered by IIS Web Server.</span></span> <span data-ttu-id="3e85c-157">Zie [Configure Web Server Security (IIS 7) (Engelstalig)](https://technet.microsoft.com/library/cc731278)voor meer informatie over andere IIS-beveiligings functies.</span><span class="sxs-lookup"><span data-stu-id="3e85c-157">For more information about other IIS security features, see [Configure Web Server Security (IIS 7)](https://technet.microsoft.com/library/cc731278).</span></span>

#### <a name="windows-powershell-web-access-forms-based-gateway-authentication"></a><span data-ttu-id="3e85c-158">Windows Power shell Web Access-verificatie op basis van een gateway</span><span class="sxs-lookup"><span data-stu-id="3e85c-158">Windows PowerShell Web Access forms-based gateway authentication</span></span>

<span data-ttu-id="3e85c-159">Op de aanmeldings pagina voor Windows Power shell-webtoegang is een set referenties (gebruikers naam en wacht woord) vereist en biedt gebruikers de mogelijkheid om andere referenties voor de doel computer op te geven.</span><span class="sxs-lookup"><span data-stu-id="3e85c-159">The Windows PowerShell Web Access sign-in page requires a set of credentials (user name and password) and offers users the option of providing different credentials for the target computer.</span></span>
<span data-ttu-id="3e85c-160">Als de gebruiker geen alternatieve referenties opgeeft, worden de primaire gebruikersnaam en het primaire wachtwoord die worden gebruikt om verbinding te maken met de gateway, ook gebruikt om verbinding te maken met de doelcomputer.</span><span class="sxs-lookup"><span data-stu-id="3e85c-160">If the user does not provide alternate credentials, the primary user name and password that are used to connect to the gateway are also used to connect to the target computer.</span></span>

<span data-ttu-id="3e85c-161">De vereiste referenties worden geverifieerd op de Windows Power shell Web Access-Gateway.</span><span class="sxs-lookup"><span data-stu-id="3e85c-161">The required credentials are authenticated on the Windows PowerShell Web Access gateway.</span></span> <span data-ttu-id="3e85c-162">Deze referenties moeten geldige gebruikers accounts zijn op de lokale Windows Power shell Web Access-Gateway server of in Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3e85c-162">These credentials must be valid user accounts on either the local Windows PowerShell Web Access gateway server, or in Active Directory.</span></span>

#### <a name="windows-powershell-web-access-authorization-rules"></a><span data-ttu-id="3e85c-163">Windows Power shell-autorisatie regels voor webtoegang</span><span class="sxs-lookup"><span data-stu-id="3e85c-163">Windows PowerShell Web Access authorization rules</span></span>

<span data-ttu-id="3e85c-164">Nadat een gebruiker is geverifieerd op de gateway, controleert Windows Power shell-webtoegang autorisatie regels om te controleren of de gebruiker toegang heeft tot de aangevraagde doel computer.</span><span class="sxs-lookup"><span data-stu-id="3e85c-164">After a user is authenticated at the gateway, Windows PowerShell Web Access checks authorization rules to verify if the user has access to the requested target computer.</span></span> <span data-ttu-id="3e85c-165">Na een geslaagde autorisatie worden de referenties van de gebruiker door gegeven aan de doel computer.</span><span class="sxs-lookup"><span data-stu-id="3e85c-165">After successful authorization, the user's credentials are passed along to the target computer.</span></span>

<span data-ttu-id="3e85c-166">Deze regels worden pas geëvalueerd nadat een gebruiker is geverifieerd door de gateway en voordat een gebruiker kan worden geverifieerd op een doelcomputer.</span><span class="sxs-lookup"><span data-stu-id="3e85c-166">These rules are evaluated only after a user has been authenticated by the gateway, and before a user can be authenticated on a target computer.</span></span>

#### <a name="target-authentication-and-authorization-rules"></a><span data-ttu-id="3e85c-167">Verificatie- en autorisatieregels van de doelcomputer</span><span class="sxs-lookup"><span data-stu-id="3e85c-167">Target authentication and authorization rules</span></span>

<span data-ttu-id="3e85c-168">De laatste laag van beveiliging voor Windows Power shell-webtoegang is de eigen beveiligings configuratie van de doel computer.</span><span class="sxs-lookup"><span data-stu-id="3e85c-168">The final layer of security for Windows PowerShell Web Access is the target computer's own security configuration.</span></span> <span data-ttu-id="3e85c-169">Gebruikers moeten beschikken over de juiste toegangs rechten die zijn geconfigureerd op de doel computer en ook in de autorisatie regels voor webtoegang van Windows Power shell om een Windows Power shell-webconsole uit te voeren die van invloed is op een doel computer via Windows Power shell-webtoegang.</span><span class="sxs-lookup"><span data-stu-id="3e85c-169">Users must have the appropriate access rights configured on the target computer, and also in the Windows PowerShell Web Access authorization rules, to run a Windows PowerShell web-based console that affects a target computer through Windows PowerShell Web Access.</span></span>

<span data-ttu-id="3e85c-170">Deze laag biedt dezelfde beveiligings mechanismen die Verbindings pogingen evalueren als gebruikers proberen een externe Windows Power shell-sessie te maken met een doel computer vanuit Windows Power shell door de [Enter-PSSession-](/powershell/module/microsoft.powershell.core/Enter-PSSession) of [New-PSSession-](/powershell/module/microsoft.powershell.core/new-pssession) cmdlets uit te voeren.</span><span class="sxs-lookup"><span data-stu-id="3e85c-170">This layer offers the same security mechanisms that would evaluate connection attempts if users tried to create a remote Windows PowerShell session to a target computer from within Windows PowerShell by running the [Enter-PSSession](/powershell/module/microsoft.powershell.core/Enter-PSSession) or [New-PSSession](/powershell/module/microsoft.powershell.core/new-pssession) cmdlets.</span></span>

<span data-ttu-id="3e85c-171">Windows Power shell Web Access maakt standaard gebruik van de primaire gebruikers naam en het wacht woord voor verificatie op de gateway en de doel computer.</span><span class="sxs-lookup"><span data-stu-id="3e85c-171">By default, Windows PowerShell Web Access uses the primary user name and password for authentication on both the gateway and the target computer.</span></span> <span data-ttu-id="3e85c-172">De aanmeldingswebpagina biedt gebruikers de mogelijkheid zo nodig andere referenties voor de doelcomputer op te geven in een gedeelte genaamd **Optionele verbindingsinstellingen**.</span><span class="sxs-lookup"><span data-stu-id="3e85c-172">The web-based sign-in page, in a section titled **Optional connection settings**, offers users the option of providing different credentials for the target computer, if they are required.</span></span> <span data-ttu-id="3e85c-173">Als de gebruiker geen alternatieve referenties opgeeft, worden de primaire gebruikersnaam en het primaire wachtwoord die worden gebruikt om verbinding te maken met de gateway, ook gebruikt om verbinding te maken met de doelcomputer.</span><span class="sxs-lookup"><span data-stu-id="3e85c-173">If the user does not provide alternate credentials, the primary user name and password that are used to connect to the gateway are also used to connect to the target computer.</span></span>

<span data-ttu-id="3e85c-174">Autorisatieregels kunnen worden gebruikt om gebruikers toegang te verlenen tot een bepaalde sessieconfiguratie.</span><span class="sxs-lookup"><span data-stu-id="3e85c-174">Authorization rules can be used to allow users access to a particular session configuration.</span></span> <span data-ttu-id="3e85c-175">U kunt _beperkte runspaces_ of sessie configuraties voor Windows Power shell-Internet toegang maken en specifieke gebruikers toestaan alleen verbinding te maken met specifieke sessie configuraties wanneer ze zich aanmelden bij Windows Power shell-webtoegang.</span><span class="sxs-lookup"><span data-stu-id="3e85c-175">You can create _restricted runspaces_ or session configurations for Windows PowerShell Web Access, and allow specific users to connect only to specific session configurations when they sign in to Windows PowerShell Web Access.</span></span> <span data-ttu-id="3e85c-176">U kunt toegangsbeheerlijsten (ACL's) gebruiken om te bepalen welke gebruikers toegang hebben tot specifieke eindpunten en de toegang tot het eindpunt voor specifieke gebruikers verder beperken met behulp van de autorisatieregels die in dit gedeelte worden beschreven.</span><span class="sxs-lookup"><span data-stu-id="3e85c-176">You can use access control lists (ACLs) to determine which users have access to specific endpoints, and further restrict access to the endpoint for a specific set of users by using authorization rules described in this section.</span></span> <span data-ttu-id="3e85c-177">Zie [een beperkte runs Pace maken](https://msdn.microsoft.com/library/dn614668)voor meer informatie over runspaces.</span><span class="sxs-lookup"><span data-stu-id="3e85c-177">For more information about restricted runspaces, see [Creating a constrained runspace](https://msdn.microsoft.com/library/dn614668).</span></span>

### <a name="configuring-authorization-rules"></a><span data-ttu-id="3e85c-178">Autorisatieregels configureren</span><span class="sxs-lookup"><span data-stu-id="3e85c-178">Configuring authorization rules</span></span>

<span data-ttu-id="3e85c-179">Beheerders willen waarschijnlijk dezelfde autorisatie regel voor Windows Power shell Web Access-gebruikers die al zijn gedefinieerd in hun omgeving voor extern beheer van Windows Power shell.</span><span class="sxs-lookup"><span data-stu-id="3e85c-179">Administrators likely want the same authorization rule for Windows PowerShell Web Access users that is already defined in their environment for Windows PowerShell remote management.</span></span> <span data-ttu-id="3e85c-180">In de eerste procedure in dit gedeelte wordt beschreven hoe u een veilige autorisatieregel toevoegt waarmee toegang wordt verleend aan één gebruiker die zich aanmeldt om één computer te beheren en binnen één sessieconfiguratie.</span><span class="sxs-lookup"><span data-stu-id="3e85c-180">The first procedure in this section describes how to add a secure authorization rule that grants access to one user, signing in to manage one computer, and within a single session configuration.</span></span> <span data-ttu-id="3e85c-181">In de tweede procedure wordt beschreven hoe u een autorisatieregel verwijdert die niet meer nodig is.</span><span class="sxs-lookup"><span data-stu-id="3e85c-181">The second procedure describes how to remove an authorization rule that is no longer needed.</span></span>

<span data-ttu-id="3e85c-182">Als u van plan bent aangepaste sessie configuraties te gebruiken om specifieke gebruikers alleen binnen de beperkte runspaces in Windows Power shell-Internet toegang te laten werken, moet u uw aangepaste sessie configuraties maken voordat u autorisatie regels toevoegt die ernaar verwijzen.</span><span class="sxs-lookup"><span data-stu-id="3e85c-182">If you plan to use custom session configurations to allow specific users to work only within restricted runspaces in Windows PowerShell Web Access, create your custom session configurations before you add authorization rules that refer to them.</span></span> <span data-ttu-id="3e85c-183">U kunt de cmdlets van Windows Power shell Web Access niet gebruiken om aangepaste sessie configuraties te maken.</span><span class="sxs-lookup"><span data-stu-id="3e85c-183">You cannot use the Windows PowerShell Web Access cmdlets to create custom session configurations.</span></span> <span data-ttu-id="3e85c-184">Zie [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configuration_files)voor meer informatie over het maken van aangepaste sessie configuraties.</span><span class="sxs-lookup"><span data-stu-id="3e85c-184">For more information about creating custom session configurations, see [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configuration_files).</span></span>

<span data-ttu-id="3e85c-185">Windows Power shell Web Access-cmdlets ondersteunen één Joker teken, een asterisk (\*).</span><span class="sxs-lookup"><span data-stu-id="3e85c-185">Windows PowerShell Web Access cmdlets support one wildcard character, an asterisk ( \* ).</span></span> <span data-ttu-id="3e85c-186">Jokertekens binnen tekenreeksen worden niet ondersteund. Gebruik één sterretje per eigenschap (gebruikers, computers of sessieconfiguraties).</span><span class="sxs-lookup"><span data-stu-id="3e85c-186">Wildcard characters within strings are not supported; use a single asterisk per property (users, computers, or session configurations).</span></span>

> [!NOTE]
> <span data-ttu-id="3e85c-187">Voor meer manieren waarop u autorisatie regels kunt gebruiken om toegang te verlenen aan gebruikers en de Windows Power shell Web Access-omgeving te beveiligen, raadpleegt u de [voor beelden van een ander autorisatie regel scenario](#other-authorization-rule-scenario-examples) in dit onderwerp.</span><span class="sxs-lookup"><span data-stu-id="3e85c-187">For more ways you can use authorization rules to grant access to users and help secure the Windows PowerShell Web Access environment, see [other authorization rule scenario examples](#other-authorization-rule-scenario-examples) in this topic.</span></span>

#### <a name="to-add-a-restrictive-authorization-rule"></a><span data-ttu-id="3e85c-188">Een beperkende autorisatieregel toevoegen</span><span class="sxs-lookup"><span data-stu-id="3e85c-188">To add a restrictive authorization rule</span></span>

1. <span data-ttu-id="3e85c-189">Voer een van de volgende handelingen uit om een Windows Power shell-sessie met verhoogde gebruikers rechten te openen.</span><span class="sxs-lookup"><span data-stu-id="3e85c-189">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="3e85c-190">Klik op het Windows-bureau blad met de rechter muisknop op **Windows Power shell** op de taak balk en klik vervolgens op **als administrator uitvoeren**.</span><span class="sxs-lookup"><span data-stu-id="3e85c-190">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>

   - <span data-ttu-id="3e85c-191">Klik in het **startscherm** van Windows met de rechtermuisknop op **Windows PowerShell** en klik vervolgens op **Als administrator uitvoeren**.</span><span class="sxs-lookup"><span data-stu-id="3e85c-191">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

2. <span data-ttu-id="3e85c-192">**Optionele stap** Voor het beperken van gebruikers toegang met behulp van sessie configuraties:</span><span class="sxs-lookup"><span data-stu-id="3e85c-192">**Optional step** For restricting user access by using session configurations:</span></span>

   <span data-ttu-id="3e85c-193">Controleer of de sessie configuraties die u wilt gebruiken, al bestaan in uw-regels.</span><span class="sxs-lookup"><span data-stu-id="3e85c-193">Verify that the session configurations that you want to use, already exist in your rules .</span></span>

   <span data-ttu-id="3e85c-194">Als ze nog niet zijn gemaakt, gebruikt u de instructies voor het maken van sessie configuraties in [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configuration_files).</span><span class="sxs-lookup"><span data-stu-id="3e85c-194">If they have not yet been created, use instructions for creating session configurations in [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configuration_files).</span></span>

3. <span data-ttu-id="3e85c-195">Met deze autorisatie regel kan een specifieke gebruiker toegang hebben tot één computer in het netwerk waartoe deze doorgaans toegang hebben, met toegang tot een specifieke sessie configuratie die wordt toegewezen aan de gebruiker™ s typische scripting-en cmdlet-behoeften.</span><span class="sxs-lookup"><span data-stu-id="3e85c-195">This authorization rule allows a specific user access to one computer on the network to which they typically have access, with access to a specific session configuration that is scoped to the user'™s typical scripting and cmdlet needs.</span></span> <span data-ttu-id="3e85c-196">Typ het volgende en druk vervolgens op **Enter**.</span><span class="sxs-lookup"><span data-stu-id="3e85c-196">Type the following, and then press **Enter**.</span></span>

   ```
   Add-PswaAuthorizationRule -UserName <domain\user | computer\user> `
      -ComputerName <computer_name> -ConfigurationName <session_configuration_name>
   ```

   - <span data-ttu-id="3e85c-197">In het volgende voor beeld krijgt een gebruiker met de naam _JSmith_ in het domein _Contoso_ toegang tot het beheer van de computer _Contoso_214_en een sessie configuratie met de naam _NewAdminsOnly_.</span><span class="sxs-lookup"><span data-stu-id="3e85c-197">In the following example, a user named _JSmith_ in the _Contoso_ domain is granted access to manage the computer _Contoso_214_, and use a session configuration named _NewAdminsOnly_.</span></span>

   ```powershell
   Add-PswaAuthorizationRule -UserName 'Contoso\JSmith' `
      -ComputerName Contoso_214 -ConfigurationName NewAdminsOnly
   ```

4. <span data-ttu-id="3e85c-198">Controleer of de regel is gemaakt door de cmdlet **Get-PswaAuthorizationRule** of `Test-PswaAuthorizationRule -UserName <domain\user | computer\user> -ComputerName** <computer_name>`uit te voeren.</span><span class="sxs-lookup"><span data-stu-id="3e85c-198">Verify that the rule has been created by running either the **Get-PswaAuthorizationRule** cmdlet, or `Test-PswaAuthorizationRule -UserName <domain\user | computer\user> -ComputerName** <computer_name>`.</span></span>
   <span data-ttu-id="3e85c-199">Bijvoorbeeld `Test-PswaAuthorizationRule -UserName Contoso\\JSmith -ComputerName Contoso_214`.</span><span class="sxs-lookup"><span data-stu-id="3e85c-199">For example, `Test-PswaAuthorizationRule -UserName Contoso\\JSmith -ComputerName Contoso_214`.</span></span>

#### <a name="to-remove-an-authorization-rule"></a><span data-ttu-id="3e85c-200">Een autorisatieregel verwijderen</span><span class="sxs-lookup"><span data-stu-id="3e85c-200">To remove an authorization rule</span></span>

1. <span data-ttu-id="3e85c-201">Als er nog geen Windows Power shell-sessie is geopend, raadpleegt u stap 1 van [om een beperkende autorisatie regel toe te voegen](#to-add-a-restrictive-authorization-rule) in deze sectie.</span><span class="sxs-lookup"><span data-stu-id="3e85c-201">If a Windows PowerShell session is not already open, see step 1 of [to add a restrictive authorization rule](#to-add-a-restrictive-authorization-rule) in this section.</span></span>

2. <span data-ttu-id="3e85c-202">Typ het volgende en druk vervolgens op **Enter**, waarbij *rule ID* staat voor de unieke id van de regel die u wilt verwijderen.</span><span class="sxs-lookup"><span data-stu-id="3e85c-202">Type the following, and then press **Enter**, where *rule ID* represents the unique ID number of the rule that you want to remove.</span></span>

   ```
   Remove-PswaAuthorizationRule -ID <rule ID>
   ```

   <span data-ttu-id="3e85c-203">Als u de id van de regel die u wilt verwijderen niet kent maar wel de beschrijvende naam, kunt u de naam van de regel doorgeven aan de cmdlet `Remove-PswaAuthorizationRule` om de regel te verwijderen, zoals in het volgende voorbeeld:</span><span class="sxs-lookup"><span data-stu-id="3e85c-203">Alternatively, if you do not know the ID number, but know the friendly name of the rule you want to remove, you can get the name of the rule, and pipe it to the `Remove-PswaAuthorizationRule` cmdlet to remove the rule, as shown in the following example:</span></span>

   ```
   Get-PswaAuthorizationRule `
      -RuleName <rule-name> | Remove-PswaAuthorizationRule
   ```

> [!NOTE]
> <span data-ttu-id="3e85c-204">U wordt niet gevraagd te bevestigen of u de opgegeven autorisatieregel wilt verwijderen. De regel wordt verwijderd wanneer u op **Enter** drukt.</span><span class="sxs-lookup"><span data-stu-id="3e85c-204">You are not prompted to confirm whether you want to delete the specified authorization rule; the rule is deleted when you press **Enter**.</span></span> <span data-ttu-id="3e85c-205">Wees er zeker van dat u de autorisatieregel wilt verwijderen voordat u de cmdlet `Remove-PswaAuthorizationRule` uitvoert.</span><span class="sxs-lookup"><span data-stu-id="3e85c-205">Be sure that you want to remove the authorization rule before running the `Remove-PswaAuthorizationRule` cmdlet.</span></span>

#### <a name="other-authorization-rule-scenario-examples"></a><span data-ttu-id="3e85c-206">Andere voorbeeldscenario’s met autorisatieregels</span><span class="sxs-lookup"><span data-stu-id="3e85c-206">Other authorization rule scenario examples</span></span>

<span data-ttu-id="3e85c-207">Elke Windows Power shell-sessie maakt gebruik van een sessie configuratie. Als er geen is opgegeven voor een sessie, gebruikt Windows Power shell de standaard ingebouwde Windows Power shell-sessie configuratie met de naam micro soft. Power shell.</span><span class="sxs-lookup"><span data-stu-id="3e85c-207">Every Windows PowerShell session uses a session configuration; if one is not specified for a session, Windows PowerShell uses the default, built-in Windows PowerShell session configuration, called Microsoft.PowerShell.</span></span> <span data-ttu-id="3e85c-208">De standaardsessieconfiguratie bevat alle cmdlets die beschikbaar zijn op een computer.</span><span class="sxs-lookup"><span data-stu-id="3e85c-208">The default session configuration includes all cmdlets that are available on a computer.</span></span> <span data-ttu-id="3e85c-209">Beheerders kunnen de toegang tot alle computers beperken door een sessieconfiguratie met een beperkte runspace (een beperkt aantal cmdlets en taken die eindgebruikers kunnen uitvoeren) te definiëren.</span><span class="sxs-lookup"><span data-stu-id="3e85c-209">Administrators can restrict access to all computers by defining a session configuration with a restricted runspace (a limited range of cmdlets and tasks that their end users could perform).</span></span> <span data-ttu-id="3e85c-210">Een gebruiker die toegang tot één computer met volledige taal toegang of alleen de Windows Power shell-cmdlets voor extern beheer heeft gekregen, kan verbinding maken met andere computers die zijn verbonden met de eerste computer.</span><span class="sxs-lookup"><span data-stu-id="3e85c-210">A user who is granted access to one computer with either full language access or only the Windows PowerShell remote management cmdlets can connect to other computers that are connected to the first computer.</span></span> <span data-ttu-id="3e85c-211">Het definiëren van een beperkte runs Pace kan verhinderen dat gebruikers toegang hebben tot andere computers vanaf hun toegestane Windows Power shell-runs Pace en verbetert de beveiliging van uw Windows Power shell-webtoegang.</span><span class="sxs-lookup"><span data-stu-id="3e85c-211">Defining a restricted runspace can prevent users from accessing other computers from their allowed Windows PowerShell runspace, and improves the security of your Windows PowerShell Web Access environment.</span></span> <span data-ttu-id="3e85c-212">De sessie configuratie kan worden gedistribueerd (met behulp van groepsbeleid) naar alle computers die beheerders toegankelijk willen maken via Windows Power shell-webtoegang.</span><span class="sxs-lookup"><span data-stu-id="3e85c-212">The session configuration can be distributed (by using Group Policy) to all computers that administrators want to make accessible through Windows PowerShell Web Access.</span></span> <span data-ttu-id="3e85c-213">Zie [about_Session_Configurations](https://technet.microsoft.com/library/dd819508.aspx)voor meer informatie over sessie configuraties.</span><span class="sxs-lookup"><span data-stu-id="3e85c-213">For more information about session configurations, see [about_Session_Configurations](https://technet.microsoft.com/library/dd819508.aspx).</span></span> <span data-ttu-id="3e85c-214">Hier volgen enkele voorbeelden van dit scenario.</span><span class="sxs-lookup"><span data-stu-id="3e85c-214">The following are some examples of this scenario.</span></span>

- <span data-ttu-id="3e85c-215">Een beheerder maakt een eindpunt met de naam **PswaEindpunt**, met een beperkte runspace.</span><span class="sxs-lookup"><span data-stu-id="3e85c-215">An administrator creates an endpoint, called **PswaEndpoint**, with a restricted runspace.</span></span> <span data-ttu-id="3e85c-216">Vervolgens maakt de beheerder een regel, `*,*,PswaEndpoint`en distribueert het eind punt naar andere computers.</span><span class="sxs-lookup"><span data-stu-id="3e85c-216">Then, the administrator creates a rule, `*,*,PswaEndpoint`, and distributes the endpoint to other computers.</span></span> <span data-ttu-id="3e85c-217">Deze regel verleent alle gebruikers toegang tot alle computers met het eindpunt **PswaEindpunt**.</span><span class="sxs-lookup"><span data-stu-id="3e85c-217">The rule allows all users to access all computers with the endpoint **PswaEndpoint**.</span></span>
  <span data-ttu-id="3e85c-218">Als dit de enige autorisatieregel is die is gedefinieerd in de regelset, zijn computers zonder dat eindpunt niet toegankelijk.</span><span class="sxs-lookup"><span data-stu-id="3e85c-218">If this is the only authorization rule defined in the rule set, computers without that endpoint would not be accessible.</span></span>

- <span data-ttu-id="3e85c-219">De beheerder heeft een eindpunt met een beperkte runspace genaamd **PswaEindpunt** gemaakt en wil de toegang beperken tot specifieke gebruikers.</span><span class="sxs-lookup"><span data-stu-id="3e85c-219">The administrator created an endpoint with a restricted runspace called **PswaEndpoint**,and wants to restrict access to specific users.</span></span> <span data-ttu-id="3e85c-220">De beheerder maakt een groep gebruikers met de naam **niveau1ondersteuning**en definieert de volgende regel: **niveau1ondersteuning,\*, pswaeindpunt**.</span><span class="sxs-lookup"><span data-stu-id="3e85c-220">The administrator creates a group of users called **Level1Support**, and defines the following rule: **Level1Support,\*,PswaEndpoint**.</span></span> <span data-ttu-id="3e85c-221">Deze regel verleent alle gebruikers in de groep **Niveau1Ondersteuning** toegang tot alle computers met de configuratie **PswaEindpunt**.</span><span class="sxs-lookup"><span data-stu-id="3e85c-221">The rule grants any users in the group **Level1Support** access to all computers with the **PswaEndpoint** configuration.</span></span> <span data-ttu-id="3e85c-222">Op vergelijkbare wijze kan de toegang worden beperkt tot een specifieke set computers.</span><span class="sxs-lookup"><span data-stu-id="3e85c-222">Similarly, access can be restricted to a specific set of computers.</span></span>

- <span data-ttu-id="3e85c-223">Sommige beheerders bieden bepaalde gebruikers uitgebreidere toegang dan andere.</span><span class="sxs-lookup"><span data-stu-id="3e85c-223">Some administrators provide certain users more access than others.</span></span> <span data-ttu-id="3e85c-224">Een beheerder maakt bijvoorbeeld twee gebruikersgroepen, **Beheerders** en **Basisondersteuning**.</span><span class="sxs-lookup"><span data-stu-id="3e85c-224">For example, an administrator creates two user groups, **Admins** and **BasicSupport**.</span></span> <span data-ttu-id="3e85c-225">De beheerder maakt ook een eind punt met een beperkte runs Pace met de naam **pswaeindpunt**en definieert de volgende twee regels: **beheerders,\*,\*** en **basis ondersteuning,\*, pswaeindpunt**.</span><span class="sxs-lookup"><span data-stu-id="3e85c-225">The administrator also creates an endpoint with a restricted runspace called **PswaEndpoint**, and defines the following two rules: **Admins,\*,\*** and **BasicSupport,\*,PswaEndpoint**.</span></span> <span data-ttu-id="3e85c-226">De eerste regel biedt alle gebruikers in de groep **Beheerders** toegang tot alle computers en de tweede regel biedt alle gebruikers in de groep **Basisondersteuning** alleen toegang tot computers met **PswaEindpunt**.</span><span class="sxs-lookup"><span data-stu-id="3e85c-226">The first rule provides all users in the **Admin** group access to all computers, and the second rule provides all users in the **BasicSupport** group access only to those computers with **PswaEndpoint**.</span></span>

- <span data-ttu-id="3e85c-227">Een beheerder heeft een besloten testomgeving ingesteld en wil alle geautoriseerde netwerkgebruikers toegang geven tot alle computers in het netwerk waartoe ze gewoonlijk toegang hebben, met toegang tot alle sessieconfiguraties waartoe ze gewoonlijk toegang hebben.</span><span class="sxs-lookup"><span data-stu-id="3e85c-227">An administrator has set up a private test environment, and wants to allow all authorized network users access to all computers on the network to which they typically have access, with access to all session configurations to which they typically have access.</span></span> <span data-ttu-id="3e85c-228">Omdat dit een besloten testomgeving is, maakt de beheerder een autorisatieregel die niet veilig is.</span><span class="sxs-lookup"><span data-stu-id="3e85c-228">Because this is a private test environment, the administrator creates an authorization rule that is not secure.</span></span> <span data-ttu-id="3e85c-229">-De beheerder voert de cmdlet uit `Add-PswaAuthorizationRule * * *`, die gebruikmaakt van het Joker teken **\*** om alle gebruikers, alle computers en alle configuraties weer te geven.</span><span class="sxs-lookup"><span data-stu-id="3e85c-229">- The administrator runs the cmdlet `Add-PswaAuthorizationRule * * *`, which uses the wildcard character **\*** to represent all users, all computers, and all configurations.</span></span> <span data-ttu-id="3e85c-230">-Deze regel is het equivalent van het volgende: `Add-PswaAuthorizationRule -UserName * -ComputerName * -ConfigurationName *`.</span><span class="sxs-lookup"><span data-stu-id="3e85c-230">- This rule is the equivalent of the following: `Add-PswaAuthorizationRule -UserName * -ComputerName * -ConfigurationName *`.</span></span>

  > [!NOTE]
  > <span data-ttu-id="3e85c-231">Deze regel wordt niet aanbevolen in een beveiligde omgeving en omzeilt de beveiligingslaag van de autorisatie regel van Windows Power shell-webtoegang.</span><span class="sxs-lookup"><span data-stu-id="3e85c-231">This rule is not recommended in a secure environment, and bypasses the authorization rule layer of security provided by Windows PowerShell Web Access.</span></span>

- <span data-ttu-id="3e85c-232">Een beheerder moet gebruikers toestaan verbinding te maken met doelcomputers in een omgeving met zowel werkgroepen als domeinen, waarbij werkgroepcomputers af en toe worden gebruikt om verbinding te maken met doelcomputers in domeinen en computers in domeinen af en toe worden gebruikt om verbinding te maken met doelcomputers in werkgroepen.</span><span class="sxs-lookup"><span data-stu-id="3e85c-232">An administrator must allow users to connect to target computers in an environment that includes both workgroups and domains, where workgroup computers are occasionally used to connect to target computers in domains, and computers in domains are occasionally used to connect to target computers in workgroups.</span></span> <span data-ttu-id="3e85c-233">De beheerder heeft een gatewayserver, *PswaServer*, in een werkgroep en de doelcomputer *srv1.contoso.com* bevindt zich in een domein.</span><span class="sxs-lookup"><span data-stu-id="3e85c-233">The administrator has a gateway server, *PswaServer*, in a workgroup; and target computer *srv1.contoso.com* is in a domain.</span></span> <span data-ttu-id="3e85c-234">De gebruiker *Chris* is een geautoriseerde lokale gebruiker op zowel de gatewayserver van de werkgroep als de doelcomputer.</span><span class="sxs-lookup"><span data-stu-id="3e85c-234">User *Chris* is an authorized local user on both the workgroup gateway server and the target computer.</span></span> <span data-ttu-id="3e85c-235">De gebruikers naam op de werkgroepserver is *chrisLocal*. en zijn gebruikers naam op de doel computer is *contoso\\Chris*.</span><span class="sxs-lookup"><span data-stu-id="3e85c-235">His user name on the workgroup server is *chrisLocal*; and his user name on the target computer is *contoso\\chris*.</span></span> <span data-ttu-id="3e85c-236">De beheerder verleent Chris toegang tot srv1.contoso.com door de volgende regel toe te voegen.</span><span class="sxs-lookup"><span data-stu-id="3e85c-236">To authorize access to srv1.contoso.com for Chris, the administrator adds the following rule.</span></span>

```powershell
Add-PswaAuthorizationRule -userName PswaServer\chrisLocal `
   -computerName srv1.contoso.com -configurationName Microsoft.PowerShell
```

<span data-ttu-id="3e85c-237">In het vorige regelvoorbeeld wordt voor Chris verificatie uitgevoerd op de gatewayserver waarna zijn toegang tot *srv1* wordt geautoriseerd.</span><span class="sxs-lookup"><span data-stu-id="3e85c-237">The preceding rule example authenticates Chris on the gateway server, and then authorizes his access to *srv1*.</span></span> <span data-ttu-id="3e85c-238">Op de aanmeldings pagina moet Chris een tweede set referenties opgeven in het gedeelte **optionele Verbindings instellingen** (*Contoso\\Chris*).</span><span class="sxs-lookup"><span data-stu-id="3e85c-238">On the sign-in page, Chris must provide a second set of credentials in the **Optional connection settings** area (*contoso\\chris*).</span></span> <span data-ttu-id="3e85c-239">De gatewayserver gebruikt de aanvullende set referenties om hem te verifiëren op de doelcomputer, *srv1.contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="3e85c-239">The gateway server uses the additional set of credentials to authenticate him on the target computer, *srv1.contoso.com*.</span></span>

<span data-ttu-id="3e85c-240">In het voor gaande scenario maakt Windows Power shell-webtoegang pas een geslaagde verbinding met de doel computer nadat het volgende is geslaagd en is toegestaan door ten minste één autorisatie regel.</span><span class="sxs-lookup"><span data-stu-id="3e85c-240">In the preceding scenario, Windows PowerShell Web Access establishes a successful connection to the target computer only after the following have been successful, and allowed by at least one authorization rule.</span></span>

1. <span data-ttu-id="3e85c-241">Verificatie op de gateway server van de werk groep door een gebruikers naam in de indeling *server_name*\\*user_name* aan de autorisatie regel toe te voegen</span><span class="sxs-lookup"><span data-stu-id="3e85c-241">Authentication on the workgroup gateway server by adding a user name in the format *server_name*\\*user_name* to the authorization rule</span></span>

2. <span data-ttu-id="3e85c-242">Verificatie op de doelcomputer met behulp van alternatieve referenties die zijn opgegeven op de aanmeldingspagina in het gedeelte **Optionele verbindingsinstellingen**</span><span class="sxs-lookup"><span data-stu-id="3e85c-242">Authentication on the target computer by using alternate credentials provided on the sign-in page, in the **Optional connection settings** area</span></span>

   > [!NOTE]
   > <span data-ttu-id="3e85c-243">Als de gateway en de doelcomputer zich in verschillende werkgroepen of domeinen bevinden, moet een vertrouwensrelatie tussen de twee werkgroepcomputers, de twee domeinen of de werkgroep en het domein worden ingesteld.</span><span class="sxs-lookup"><span data-stu-id="3e85c-243">If gateway and target computers are in different workgroups or domains, a trust relationship must be established between the two workgroup computers, the two domains, or between the workgroup and the domain.</span></span> <span data-ttu-id="3e85c-244">Deze relatie kan niet worden geconfigureerd met behulp van Windows Power shell Web Access Authorization Rule-cmdlets.</span><span class="sxs-lookup"><span data-stu-id="3e85c-244">This relationship cannot be configured by using Windows PowerShell Web Access authorization rule cmdlets.</span></span> <span data-ttu-id="3e85c-245">Autorisatieregels definiëren geen vertrouwensrelatie tussen computers. Ze kunnen enkel gebruikers toestaan verbinding te maken met specifieke doelcomputers en sessieconfiguraties.</span><span class="sxs-lookup"><span data-stu-id="3e85c-245">Authorization rules do not define a trust relationship between computers; they can only authorize users to connect to specific target computers and session configurations.</span></span> <span data-ttu-id="3e85c-246">Zie [domeinen en forest-vertrouwens relaties maken](https://technet.microsoft.com/library/cc794775.aspx)voor meer informatie over het configureren van een vertrouwens relatie tussen verschillende domeinen.</span><span class="sxs-lookup"><span data-stu-id="3e85c-246">For more information about how to configure a trust relationship between different domains, see [Creating Domain and Forest Trusts](https://technet.microsoft.com/library/cc794775.aspx).</span></span>
   > <span data-ttu-id="3e85c-247">Zie [extern beheer met Serverbeheer](https://technet.microsoft.com/library/dd759202.aspx)voor meer informatie over het toevoegen van werkgroepcomputers aan een lijst met vertrouwde hosts.</span><span class="sxs-lookup"><span data-stu-id="3e85c-247">For more information about how to add workgroup computers to a trusted hosts list, see [Remote Management with Server Manager](https://technet.microsoft.com/library/dd759202.aspx).</span></span>

### <a name="using-a-single-set-of-authorization-rules-for-multiple-sites"></a><span data-ttu-id="3e85c-248">Eén set autorisatieregels gebruiken voor meerdere sites</span><span class="sxs-lookup"><span data-stu-id="3e85c-248">Using a single set of authorization rules for multiple sites</span></span>

<span data-ttu-id="3e85c-249">Autorisatieregels worden opgeslagen in een XML-bestand.</span><span class="sxs-lookup"><span data-stu-id="3e85c-249">Authorization rules are stored in an XML file.</span></span> <span data-ttu-id="3e85c-250">De naam van het pad van het XML-bestand is standaard `$env:windir\Web\PowershellWebAccess\data\AuthorizationRules.xml`.</span><span class="sxs-lookup"><span data-stu-id="3e85c-250">By default, the path name of the XML file is `$env:windir\Web\PowershellWebAccess\data\AuthorizationRules.xml`.</span></span>

<span data-ttu-id="3e85c-251">Het pad naar het XML-bestand met autorisatie regels wordt opgeslagen in het bestand **powwa. config** , dat zich in `$env:windir\Web\PowershellWebAccess\data`bevindt.</span><span class="sxs-lookup"><span data-stu-id="3e85c-251">The path to the authorization rules XML file is stored in the **powwa.config** file, which is found in `$env:windir\Web\PowershellWebAccess\data`.</span></span> <span data-ttu-id="3e85c-252">De beheerder heeft de flexibiliteit de verwijzing naar het standaardpad in **powwa.config** te wijzigen op basis van zijn voorkeuren of vereisten.</span><span class="sxs-lookup"><span data-stu-id="3e85c-252">The administrator has the flexibility to change the reference to the default path in **powwa.config** to suit preferences or requirements.</span></span> <span data-ttu-id="3e85c-253">Door de beheerder in staat te stellen de locatie van het bestand te wijzigen, kunnen meerdere Windows Power shell-Web Access-gateways dezelfde autorisatie regels gebruiken als een dergelijke configuratie gewenst is.</span><span class="sxs-lookup"><span data-stu-id="3e85c-253">Allowing the administrator to change the location of the file lets multiple Windows PowerShell Web Access gateways use the same authorization rules, if such a configuration is desired.</span></span>

## <a name="session-management"></a><span data-ttu-id="3e85c-254">Sessiebeheer</span><span class="sxs-lookup"><span data-stu-id="3e85c-254">Session management</span></span>

<span data-ttu-id="3e85c-255">Windows Power shell Web Access beperkt standaard een gebruiker tot drie sessies tegelijk.</span><span class="sxs-lookup"><span data-stu-id="3e85c-255">By default, Windows PowerShell Web Access limits a user to three sessions at one time.</span></span> <span data-ttu-id="3e85c-256">U kunt het **Web. config** -bestand van de webtoepassing bewerken in IIS-beheer ter ondersteuning van een verschillend aantal sessies per gebruiker.</span><span class="sxs-lookup"><span data-stu-id="3e85c-256">You can edit the web application's **web.config** file in IIS Manager to support a different number of sessions per user.</span></span> <span data-ttu-id="3e85c-257">Het pad naar het bestand **Web. config** is `$env:windir\Web\PowerShellWebAccess\wwwroot\Web.config`.</span><span class="sxs-lookup"><span data-stu-id="3e85c-257">The path to the **web.config** file is `$env:windir\Web\PowerShellWebAccess\wwwroot\Web.config`.</span></span>

<span data-ttu-id="3e85c-258">IIS-webserver is standaard geconfigureerd om de groep van toepassingen opnieuw te starten als er instellingen worden bewerkt.</span><span class="sxs-lookup"><span data-stu-id="3e85c-258">By default, IIS Web Server is configured to restart the application pool if any settings are edited.</span></span> <span data-ttu-id="3e85c-259">De groep van toepassingen wordt bijvoorbeeld opnieuw gestart als er wijzigingen worden aangebracht in het bestand **Web. config** .</span><span class="sxs-lookup"><span data-stu-id="3e85c-259">For example, the application pool is restarted if changes are made to the **web.config** file.</span></span> <span data-ttu-id="3e85c-260">> omdat **Windows Power shell-webtoegang** in de sessie status in het geheugen gebruikt, > gebruikers die zijn aangemeld bij **Windows Power shell** -sessies voor Internet toegang hun sessies verliezen wanneer de groep van toepassingen opnieuw wordt gestart.</span><span class="sxs-lookup"><span data-stu-id="3e85c-260">>Because **Windows PowerShell Web Access** uses in-memory session states, >users signed in to **Windows PowerShell Web Access** sessions lose their sessions when the application pool is restarted.</span></span>

### <a name="setting-default-parameters-on-the-sign-in-page"></a><span data-ttu-id="3e85c-261">Standaardparameters instellen op de aanmeldingspagina</span><span class="sxs-lookup"><span data-stu-id="3e85c-261">Setting default parameters on the sign-in page</span></span>

<span data-ttu-id="3e85c-262">Als uw Windows Power shell Web Access-Gateway wordt uitgevoerd op Windows Server 2012 R2, kunt u standaard waarden configureren voor de instellingen die worden weer gegeven op de aanmeldings pagina van de Windows Power shell-webtoegang.</span><span class="sxs-lookup"><span data-stu-id="3e85c-262">If your Windows PowerShell Web Access gateway is running on Windows Server 2012 R2, you can configure default values for the settings that are displayed on the Windows PowerShell Web Access sign-in page.</span></span> <span data-ttu-id="3e85c-263">U kunt in het bestand **Web. config** waarden configureren dat wordt beschreven in de vorige alinea.</span><span class="sxs-lookup"><span data-stu-id="3e85c-263">You can configure values in the **web.config** file that is described in the preceding paragraph.</span></span> <span data-ttu-id="3e85c-264">Standaardwaarden voor instellingen voor de aanmeldingspagina zijn te vinden in het gedeelte **appSettings** van het bestand web.config. Hieronder ziet u een voorbeeld van het gedeelte **appSettings**.</span><span class="sxs-lookup"><span data-stu-id="3e85c-264">Default values for the sign-in page settings are found in the **appSettings** section of the web.config file; the following is an example of the **appSettings** section.</span></span> <span data-ttu-id="3e85c-265">Geldige waarden voor veel van deze instellingen zijn dezelfde als die voor de overeenkomstige para meters van de cmdlet [New-PSSession](https://technet.microsoft.com/library/hh849717.aspx) in Windows Power shell.</span><span class="sxs-lookup"><span data-stu-id="3e85c-265">Valid values for many of these settings are the same as those for the corresponding parameters of the [New-PSSession](https://technet.microsoft.com/library/hh849717.aspx) cmdlet in Windows PowerShell.</span></span>

<span data-ttu-id="3e85c-266">Bijvoorbeeld, de `defaultApplicationName` sleutel, zoals in het volgende code blok wordt weer gegeven, is de waarde van de voorkeurs variabele **$PSSessionApplicationName** op de doel computer.</span><span class="sxs-lookup"><span data-stu-id="3e85c-266">For example, the `defaultApplicationName` key, as shown in the following code block, is the value of the **$PSSessionApplicationName** preference variable on the target computer.</span></span>

```xml
  <appSettings>
      <add key="maxSessionsAllowedPerUser" value="3"/>
      <add key="defaultPortNumber" value="5985"/>
      <add key="defaultSSLPortNumber" value="5986"/>
      <add key="defaultApplicationName" value="WSMAN"/>
      <add key="defaultUseSslSelection" value="0"/>
      <add key="defaultAuthenticationType" value="0"/>
      <add key="defaultAllowRedirection" value="0"/>
      <add key="defaultConfigurationName" value="Microsoft.PowerShell"/>
  </appSettings>
```

### <a name="time-outs-and-unplanned-disconnections"></a><span data-ttu-id="3e85c-267">Time-outs en niet-geplande afgebroken sessies</span><span class="sxs-lookup"><span data-stu-id="3e85c-267">Time-outs and unplanned disconnections</span></span>

<span data-ttu-id="3e85c-268">Time-out voor Windows Power shell-Web Access-sessies. In Windows Power shell Web Access, dat wordt uitgevoerd op Windows Server 2012, wordt een time-outbericht weer gegeven aan aangemelde gebruikers na 15 minuten van inactiviteit van de sessie.</span><span class="sxs-lookup"><span data-stu-id="3e85c-268">Windows PowerShell Web Access sessions time out. In Windows PowerShell Web Access running on Windows Server 2012, A time-out message is displayed to signed-in users after 15 minutes of session inactivity.</span></span> <span data-ttu-id="3e85c-269">Als de gebruiker niet binnen vijf minuten reageert nadat het time-outbericht wordt weer gegeven, wordt de sessie beëindigd en wordt de gebruiker afgemeld. U kunt de time-outperioden voor sessies wijzigen in de website-instellingen in IIS-beheer.</span><span class="sxs-lookup"><span data-stu-id="3e85c-269">If the user does not respond within five minutes after the time-out message is displayed, the session is ended, and the user is signed out. You can change time-out periods for sessions in the website settings in IIS Manager.</span></span>

<span data-ttu-id="3e85c-270">In Windows Power shell Web Access, dat wordt uitgevoerd op Windows Server 2012 R2, time-out van sessies, standaard na 20 minuten inactiviteit.</span><span class="sxs-lookup"><span data-stu-id="3e85c-270">In Windows PowerShell Web Access running on Windows Server 2012 R2, sessions time out, by default, after 20 minutes of inactivity.</span></span> <span data-ttu-id="3e85c-271">Als gebruikers geen verbinding meer hebben met sessies in de webconsole vanwege netwerk fouten of andere niet-geplande afsluit gebeurtenissen of storingen, en niet omdat ze de sessies zelf hebben gesloten, blijven de Windows Power shell-sessies voor webtoegang actief, verbonden met doel computers, totdat de time-outperiode aan de client zijde vervalt.</span><span class="sxs-lookup"><span data-stu-id="3e85c-271">If users are disconnected from sessions in the web-based console because of network errors or other unplanned shutdowns or failures, and not because they have closed the sessions themselves, the Windows PowerShell Web Access sessions continue to run, connected to target computers, until the time-out period on the client side lapses.</span></span> <span data-ttu-id="3e85c-272">De sessie wordt verbroken na de standaardinstelling van 20 minuten of na de time-outperiode die is opgegeven door de gatewaybeheerder, als deze korter is.</span><span class="sxs-lookup"><span data-stu-id="3e85c-272">The session is disconnected after either the default 20 minutes, or after the time-out period specified by the gateway administrator, whichever is shorter.</span></span>

<span data-ttu-id="3e85c-273">Als op de gateway server Windows Server 2012 R2 wordt uitgevoerd, kunnen gebruikers met Windows Power shell-webtoegang op een later tijdstip opnieuw verbinding maken met opgeslagen sessies, maar wanneer er netwerk fouten, niet-gepland afsluiten of andere fouten worden verbroken, worden gebruikers niet weer geven of opnieuw verbonden met opslaan sessies tot na de time-outperiode die is opgegeven door de Gateway beheerder.</span><span class="sxs-lookup"><span data-stu-id="3e85c-273">If the gateway server is running Windows Server 2012 R2, Windows PowerShell Web Access lets users reconnect to saved sessions at a later time, but when network errors, unplanned shutdowns, or other failures disconnect sessions, users cannot see or reconnect to saved sessions until after the time-out period specified by the gateway administrator has lapsed.</span></span>

## <a name="see-also"></a><span data-ttu-id="3e85c-274">Zie ook</span><span class="sxs-lookup"><span data-stu-id="3e85c-274">See Also</span></span>

<span data-ttu-id="3e85c-275">[Windows Power shell-webtoegang installeren en gebruiken](https://technet.microsoft.com/library/hh831611(v=ws.11).aspx)</span><span class="sxs-lookup"><span data-stu-id="3e85c-275">[Install and Use Windows PowerShell Web Access](https://technet.microsoft.com/library/hh831611(v=ws.11).aspx)</span></span>

[<span data-ttu-id="3e85c-276">about_Session_Configurations</span><span class="sxs-lookup"><span data-stu-id="3e85c-276">about_Session_Configurations</span></span>](https://technet.microsoft.com/library/dd819508.aspx)

[<span data-ttu-id="3e85c-277">Windows Power shell Web Access-cmdlets</span><span class="sxs-lookup"><span data-stu-id="3e85c-277">Windows PowerShell Web Access Cmdlets</span></span>](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps)
