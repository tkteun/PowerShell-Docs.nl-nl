---
ms.date: 07/10/2019
keywords: JEA, Power shell, beveiliging
title: JEA
ms.openlocfilehash: 5b5b5977d4fec1ed850f1146fe7c09463908651b
ms.sourcegitcommit: 6545c60578f7745be015111052fd7769f8289296
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 04/22/2020
ms.locfileid: "79406872"
---
# <a name="jea-role-capabilities"></a><span data-ttu-id="d7b55-103">JEA</span><span class="sxs-lookup"><span data-stu-id="d7b55-103">JEA Role Capabilities</span></span>

<span data-ttu-id="d7b55-104">Wanneer u een JEA-eind punt maakt, moet u een of meer functie mogelijkheden definiëren die beschrijven wat iemand kan doen in een JEA-sessie.</span><span class="sxs-lookup"><span data-stu-id="d7b55-104">When creating a JEA endpoint, you need to define one or more role capabilities that describe what someone can do in a JEA session.</span></span> <span data-ttu-id="d7b55-105">Een functie mogelijkheid is een Power shell-gegevens bestand `.psrc` met de extensie waarin alle cmdlets, functies, providers en externe Program ma's worden vermeld die beschikbaar worden gesteld voor het verbinden van gebruikers.</span><span class="sxs-lookup"><span data-stu-id="d7b55-105">A role capability is a PowerShell data file with the `.psrc` extension that lists all the cmdlets, functions, providers, and external programs that are made available to connecting users.</span></span>

## <a name="determine-which-commands-to-allow"></a><span data-ttu-id="d7b55-106">Bepalen welke opdrachten moeten worden toegestaan</span><span class="sxs-lookup"><span data-stu-id="d7b55-106">Determine which commands to allow</span></span>

<span data-ttu-id="d7b55-107">De eerste stap bij het maken van een functie-mogelijkheidsprofiel is om te overwegen waarover de gebruikers toegang nodig hebben.</span><span class="sxs-lookup"><span data-stu-id="d7b55-107">The first step in creating a role capability file is to consider what the users need access to.</span></span> <span data-ttu-id="d7b55-108">Het proces van vereisten verzameling kan enige tijd duren, maar het is een belang rijk proces.</span><span class="sxs-lookup"><span data-stu-id="d7b55-108">The requirements gathering process can take a while, but it's an important process.</span></span> <span data-ttu-id="d7b55-109">Door gebruikers toegang te geven tot te weinig cmdlets en functies kan de taak niet worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="d7b55-109">Giving users access to too few cmdlets and functions can prevent them from getting their job done.</span></span> <span data-ttu-id="d7b55-110">Als u toegang tot te veel cmdlets en functies toestaat, kunnen gebruikers meer doen dan u hebt beoogd en uw beveiligings koers verzwakken.</span><span class="sxs-lookup"><span data-stu-id="d7b55-110">Allowing access to too many cmdlets and functions can allow users to do more than you intended and weaken your security stance.</span></span>

<span data-ttu-id="d7b55-111">Hoe u dit proces gaat, is afhankelijk van uw organisatie en doel stellingen.</span><span class="sxs-lookup"><span data-stu-id="d7b55-111">How you go about this process depends on your organization and goals.</span></span> <span data-ttu-id="d7b55-112">U kunt de volgende tips gebruiken om ervoor te zorgen dat u het juiste pad gebruikt.</span><span class="sxs-lookup"><span data-stu-id="d7b55-112">The following tips can help ensure you're on the right path.</span></span>

1. <span data-ttu-id="d7b55-113">**Identificeer** de opdrachten die gebruikers gebruiken om hun taken uit te voeren.</span><span class="sxs-lookup"><span data-stu-id="d7b55-113">**Identify** the commands users are using to get their jobs done.</span></span> <span data-ttu-id="d7b55-114">Dit kan betrekking hebben op het onderzoeken van IT-personeel, het controleren van Automation-scripts of het analyseren van transcripten en logboeken van Power shell-sessies.</span><span class="sxs-lookup"><span data-stu-id="d7b55-114">This may involve surveying IT staff, checking automation scripts, or analyzing PowerShell session transcripts and logs.</span></span>
2. <span data-ttu-id="d7b55-115">**Update** het gebruik van opdracht regel Programma's naar gelijkwaardige Power shell-equivalenten, waar mogelijk, voor de beste controle-en JEA aanpassings ervaring.</span><span class="sxs-lookup"><span data-stu-id="d7b55-115">**Update** use of command-line tools to PowerShell equivalents, where possible, for the best auditing and JEA customization experience.</span></span> <span data-ttu-id="d7b55-116">Externe Program ma's kunnen niet worden beperkt als systeem eigen Power shell-cmdlets en-functies in JEA.</span><span class="sxs-lookup"><span data-stu-id="d7b55-116">External programs can't be constrained as granularly as native PowerShell cmdlets and functions in JEA.</span></span>
3. <span data-ttu-id="d7b55-117">**Beperk** het bereik van de cmdlets zodat alleen specifieke para meters of parameter waarden kunnen worden toegestaan.</span><span class="sxs-lookup"><span data-stu-id="d7b55-117">**Restrict** the scope of the cmdlets to only allow specific parameters or parameter values.</span></span> <span data-ttu-id="d7b55-118">Dit is vooral belang rijk als gebruikers slechts een deel van een systeem moeten beheren.</span><span class="sxs-lookup"><span data-stu-id="d7b55-118">This is especially important if users should manage only part of a system.</span></span>
4. <span data-ttu-id="d7b55-119">**Maak** aangepaste functies om complexe opdrachten of opdrachten te vervangen die moeilijk te beperken zijn in jea.</span><span class="sxs-lookup"><span data-stu-id="d7b55-119">**Create** custom functions to replace complex commands or commands that are difficult to constrain in JEA.</span></span> <span data-ttu-id="d7b55-120">Een eenvoudige functie waarmee een complexe opdracht wordt ingepakt of extra validatie logica wordt toegepast, kan extra controle bieden over beheerders en eind gebruikers eenvoud.</span><span class="sxs-lookup"><span data-stu-id="d7b55-120">A simple function that wraps a complex command or applies additional validation logic can offer additional control for admins and end-user simplicity.</span></span>
5. <span data-ttu-id="d7b55-121">**Test** de scoped-lijst met toegestane opdrachten met uw gebruikers of Automation-Services en pas deze zo nodig aan.</span><span class="sxs-lookup"><span data-stu-id="d7b55-121">**Test** the scoped list of allowable commands with your users or automation services, and adjust as necessary.</span></span>

### <a name="examples-of-potentially-dangerous-commands"></a><span data-ttu-id="d7b55-122">Voor beelden van mogelijk gevaarlijke opdrachten</span><span class="sxs-lookup"><span data-stu-id="d7b55-122">Examples of potentially dangerous commands</span></span>

<span data-ttu-id="d7b55-123">Een zorgvuldige selectie van opdrachten is belang rijk om ervoor te zorgen dat het JEA-eind punt de gebruiker niet toestaat hun machtigingen te verhogen.</span><span class="sxs-lookup"><span data-stu-id="d7b55-123">Careful selection of commands is important to ensure the JEA endpoint doesn't allow the user to elevate their permissions.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d7b55-124">Essentiële informatie die nodig is voor het successCommands van gebruikers in een JEA-sessie worden vaak uitgevoerd met verhoogde bevoegdheden.</span><span class="sxs-lookup"><span data-stu-id="d7b55-124">Essential information required for user successCommands in a JEA session are often run with elevated privileges.</span></span>

<span data-ttu-id="d7b55-125">De volgende tabel bevat voor beelden van opdrachten die schadelijk kunnen worden gebruikt als deze zijn toegestaan in een onbeperkte status.</span><span class="sxs-lookup"><span data-stu-id="d7b55-125">The following table contains examples of commands that can be used maliciously if allowed in an unconstrained state.</span></span> <span data-ttu-id="d7b55-126">Dit is geen limitatieve lijst en mag alleen worden gebruikt als een voorzichtig uitgangs punt.</span><span class="sxs-lookup"><span data-stu-id="d7b55-126">This isn't an exhaustive list and should only be used as a cautionary starting point.</span></span>

|                                            <span data-ttu-id="d7b55-127">Risico</span><span class="sxs-lookup"><span data-stu-id="d7b55-127">Risk</span></span>                                            |                                <span data-ttu-id="d7b55-128">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="d7b55-128">Example</span></span>                                |                                                                              <span data-ttu-id="d7b55-129">Gerelateerde opdrachten</span><span class="sxs-lookup"><span data-stu-id="d7b55-129">Related commands</span></span>                                                                              |
| ------------------------------------------------------------------------------------------ | --------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="d7b55-130">De gebruikers beheerders rechten verlenen om JEA over te slaan</span><span class="sxs-lookup"><span data-stu-id="d7b55-130">Granting the connecting user admin privileges to bypass JEA</span></span>                                | `Add-LocalGroupMember -Member 'CONTOSO\jdoe' -Group 'Administrators'` | <span data-ttu-id="d7b55-131">`Add-ADGroupMember`, `Add-LocalGroupMember`, `net.exe`, `dsadd.exe`</span><span class="sxs-lookup"><span data-stu-id="d7b55-131">`Add-ADGroupMember`, `Add-LocalGroupMember`, `net.exe`, `dsadd.exe`</span></span>                                                                                                        |
| <span data-ttu-id="d7b55-132">Wille keurige code uitvoeren, zoals malware, cracks of aangepaste scripts om beveiligingen over te slaan</span><span class="sxs-lookup"><span data-stu-id="d7b55-132">Running arbitrary code, such as malware, exploits, or custom scripts to bypass protections</span></span> | `Start-Process -FilePath '\\san\share\malware.exe'`                   | <span data-ttu-id="d7b55-133">`Start-Process`, `New-Service`, `Invoke-Item`, `Invoke-WmiMethod`, `Invoke-CimMethod`, `Invoke-Expression`, `Invoke-Command`, `New-ScheduledTask`, `Register-ScheduledJob`</span><span class="sxs-lookup"><span data-stu-id="d7b55-133">`Start-Process`, `New-Service`, `Invoke-Item`, `Invoke-WmiMethod`, `Invoke-CimMethod`, `Invoke-Expression`, `Invoke-Command`, `New-ScheduledTask`, `Register-ScheduledJob`</span></span> |

## <a name="create-a-role-capability-file"></a><span data-ttu-id="d7b55-134">Een functie-mogelijkheidsprofiel maken</span><span class="sxs-lookup"><span data-stu-id="d7b55-134">Create a role capability file</span></span>

<span data-ttu-id="d7b55-135">U kunt een nieuw Power shell-functie bestand maken met de cmdlet [New-PSRoleCapabilityFile](/powershell/module/microsoft.powershell.core/new-psrolecapabilityfile?view=powershell-6) .</span><span class="sxs-lookup"><span data-stu-id="d7b55-135">You can create a new PowerShell role capability file with the [New-PSRoleCapabilityFile](/powershell/module/microsoft.powershell.core/new-psrolecapabilityfile?view=powershell-6) cmdlet.</span></span>

```powershell
New-PSRoleCapabilityFile -Path .\MyFirstJEARole.psrc
```

<span data-ttu-id="d7b55-136">Het resulterende bestand met de functie moet worden bewerkt om de opdrachten toe te staan die vereist zijn voor de rol.</span><span class="sxs-lookup"><span data-stu-id="d7b55-136">The resulting role capability file should be edited to allow the commands required for the role.</span></span> <span data-ttu-id="d7b55-137">De Help-documentatie voor Power shell bevat verschillende voor beelden van hoe u het bestand kunt configureren.</span><span class="sxs-lookup"><span data-stu-id="d7b55-137">The PowerShell help documentation contains several examples of how you can configure the file.</span></span>

### <a name="allowing-powershell-cmdlets-and-functions"></a><span data-ttu-id="d7b55-138">Power shell-cmdlets en-functies toestaan</span><span class="sxs-lookup"><span data-stu-id="d7b55-138">Allowing PowerShell cmdlets and functions</span></span>

<span data-ttu-id="d7b55-139">Als u gebruikers wilt autoriseren om Power shell-cmdlets of-functies uit te voeren, voegt u de cmdlet of functie naam toe aan de velden VisibleCmdlets of VisibleFunctions.</span><span class="sxs-lookup"><span data-stu-id="d7b55-139">To authorize users to run PowerShell cmdlets or functions, add the cmdlet or function name to the VisibleCmdlets or VisibleFunctions fields.</span></span> <span data-ttu-id="d7b55-140">Als u niet zeker weet of een opdracht een cmdlet of functie is, kunt u `Get-Command <name>` de eigenschap **CommandType** in de uitvoer uitvoeren en controleren.</span><span class="sxs-lookup"><span data-stu-id="d7b55-140">If you aren't sure whether a command is a cmdlet or function, you can run `Get-Command <name>` and check the **CommandType** property in the output.</span></span>

```powershell
VisibleCmdlets = 'Restart-Computer', 'Get-NetIPAddress'
```

<span data-ttu-id="d7b55-141">Soms is het bereik van een specifieke cmdlet of functie te breed voor de behoeften van uw gebruikers.</span><span class="sxs-lookup"><span data-stu-id="d7b55-141">Sometimes the scope of a specific cmdlet or function is too broad for your users' needs.</span></span> <span data-ttu-id="d7b55-142">Een DNS-beheerder heeft bijvoorbeeld waarschijnlijk alleen toegang nodig om de DNS-service opnieuw te starten.</span><span class="sxs-lookup"><span data-stu-id="d7b55-142">A DNS admin, for example, probably only needs access to restart the DNS service.</span></span> <span data-ttu-id="d7b55-143">In omgevingen met meerdere tenants hebben tenants toegang tot Self-Service beheer hulpprogramma's.</span><span class="sxs-lookup"><span data-stu-id="d7b55-143">In multi-tenant environments, tenants have access to self-service management tools.</span></span> <span data-ttu-id="d7b55-144">Tenants moeten worden beperkt tot het beheren van hun eigen resources.</span><span class="sxs-lookup"><span data-stu-id="d7b55-144">Tenants should be limited to managing their own resources.</span></span> <span data-ttu-id="d7b55-145">In dergelijke gevallen kunt u beperken welke para meters worden weer gegeven uit de cmdlet of functie.</span><span class="sxs-lookup"><span data-stu-id="d7b55-145">For these cases, you can restrict which parameters are exposed from the cmdlet or function.</span></span>

```powershell
VisibleCmdlets = @{ Name = 'Restart-Computer'; Parameters = @{ Name = 'Name' }}
```

<span data-ttu-id="d7b55-146">In meer geavanceerde scenario's moet u mogelijk ook de waarden beperken die een gebruiker mag gebruiken met deze para meters.</span><span class="sxs-lookup"><span data-stu-id="d7b55-146">In more advanced scenarios, you may also need to restrict the values a user may use with these parameters.</span></span> <span data-ttu-id="d7b55-147">Met functie mogelijkheden kunt u een reeks waarden of een reguliere-expressie patroon definiëren waarmee wordt bepaald welke invoer is toegestaan.</span><span class="sxs-lookup"><span data-stu-id="d7b55-147">Role capabilities let you define a set of values or a regular expression pattern that determine what input is allowed.</span></span>

```powershell
VisibleCmdlets = @{ Name = 'Restart-Service'; Parameters = @{ Name = 'Name'; ValidateSet = 'Dns', 'Spooler' }},
                 @{ Name = 'Start-Website'; Parameters = @{ Name = 'Name'; ValidatePattern = 'HR_*' }}
```

> [!NOTE]
> <span data-ttu-id="d7b55-148">De [algemene Power shell-para meters](/powershell/module/microsoft.powershell.core/about/about_commonparameters) zijn altijd toegestaan, zelfs als u de beschik bare para meters beperkt.</span><span class="sxs-lookup"><span data-stu-id="d7b55-148">The [common PowerShell parameters](/powershell/module/microsoft.powershell.core/about/about_commonparameters) are always allowed, even if you restrict the available parameters.</span></span>
> <span data-ttu-id="d7b55-149">U moet ze niet expliciet vermelden in het veld para meters.</span><span class="sxs-lookup"><span data-stu-id="d7b55-149">You should not explicitly list them in the Parameters field.</span></span>

<span data-ttu-id="d7b55-150">In de volgende tabel worden de verschillende manieren beschreven waarop u een zicht bare cmdlet of functie kunt aanpassen.</span><span class="sxs-lookup"><span data-stu-id="d7b55-150">The table below describes the various ways you can customize a visible cmdlet or function.</span></span>
<span data-ttu-id="d7b55-151">U kunt elk van de onderstaande items combi neren in het veld **VisibleCmdlets** .</span><span class="sxs-lookup"><span data-stu-id="d7b55-151">You can mix and match any of the below in the **VisibleCmdlets** field.</span></span>

|                                           <span data-ttu-id="d7b55-152">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="d7b55-152">Example</span></span>                                           |                                                             <span data-ttu-id="d7b55-153">Gebruiksvoorbeeld</span><span class="sxs-lookup"><span data-stu-id="d7b55-153">Use case</span></span>                                                              |
| ------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="d7b55-154">`'My-Func'` of `@{ Name = 'My-Func' }`</span><span class="sxs-lookup"><span data-stu-id="d7b55-154">`'My-Func'` or `@{ Name = 'My-Func' }`</span></span>                                                      | <span data-ttu-id="d7b55-155">Hiermee kan de gebruiker zonder `My-Func` beperkingen voor de para meters worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="d7b55-155">Allows the user to run `My-Func` without any restrictions on the parameters.</span></span>                                                      |
| `'MyModule\My-Func'`                                                                        | <span data-ttu-id="d7b55-156">Hiermee kan de gebruiker zonder `My-Func` enige beperkingen van `MyModule` de para meters worden uitgevoerd vanuit de module.</span><span class="sxs-lookup"><span data-stu-id="d7b55-156">Allows the user to run `My-Func` from the module `MyModule` without any restrictions on the parameters.</span></span>                           |
| `'My-*'`                                                                                    | <span data-ttu-id="d7b55-157">Hiermee kan de gebruiker een cmdlet of functie met de bewerking `My`uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="d7b55-157">Allows the user to run any cmdlet or function with the verb `My`.</span></span>                                                                 |
| `'*-Func'`                                                                                  | <span data-ttu-id="d7b55-158">Hiermee kan de gebruiker een cmdlet of functie uitvoeren met het zelfstandig `Func`naam woord.</span><span class="sxs-lookup"><span data-stu-id="d7b55-158">Allows the user to run any cmdlet or function with the noun `Func`.</span></span>                                                               |
| `@{ Name = 'My-Func'; Parameters = @{ Name = 'Param1'}, @{ Name = 'Param2' }}`              | <span data-ttu-id="d7b55-159">Hiermee kan de gebruiker uitvoeren `My-Func` met de `Param1` para `Param2` meters en.</span><span class="sxs-lookup"><span data-stu-id="d7b55-159">Allows the user to run `My-Func` with the `Param1` and `Param2` parameters.</span></span> <span data-ttu-id="d7b55-160">Elke waarde kan worden opgegeven voor de para meters.</span><span class="sxs-lookup"><span data-stu-id="d7b55-160">Any value can be supplied to the parameters.</span></span>          |
| `@{ Name = 'My-Func'; Parameters = @{ Name = 'Param1'; ValidateSet = 'Value1', 'Value2' }}` | <span data-ttu-id="d7b55-161">Hiermee kan de gebruiker met `My-Func` de `Param1` para meter worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="d7b55-161">Allows the user to run `My-Func` with the `Param1` parameter.</span></span> <span data-ttu-id="d7b55-162">Alleen waarde1 en waarde2 kunnen worden opgegeven voor de para meter.</span><span class="sxs-lookup"><span data-stu-id="d7b55-162">Only "Value1" and "Value2" can be supplied to the parameter.</span></span>        |
| `@{ Name = 'My-Func'; Parameters = @{ Name = 'Param1'; ValidatePattern = 'contoso.*' }}`    | <span data-ttu-id="d7b55-163">Hiermee kan de gebruiker met `My-Func` de `Param1` para meter worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="d7b55-163">Allows the user to run `My-Func` with the `Param1` parameter.</span></span> <span data-ttu-id="d7b55-164">Elke waarde die begint met ' Contoso ' kan worden opgegeven voor de para meter.</span><span class="sxs-lookup"><span data-stu-id="d7b55-164">Any value starting with "contoso" can be supplied to the parameter.</span></span> |

> [!WARNING]
> <span data-ttu-id="d7b55-165">Voor de beste beveiligings procedures wordt het niet aanbevolen joker tekens te gebruiken bij het definiëren van zicht bare cmdlets of functies.</span><span class="sxs-lookup"><span data-stu-id="d7b55-165">For best security practices, it is not recommended to use wildcards when defining visible cmdlets or functions.</span></span> <span data-ttu-id="d7b55-166">In plaats daarvan moet u elke vertrouwde opdracht expliciet vermelden om ervoor te zorgen dat geen andere opdrachten die hetzelfde naamgevings schema delen, per ongeluk worden geautoriseerd.</span><span class="sxs-lookup"><span data-stu-id="d7b55-166">Instead, you should explicitly list each trusted command to ensure no other commands that share the same naming scheme are unintentionally authorized.</span></span>

<span data-ttu-id="d7b55-167">U kunt niet zowel een **ValidatePattern** als **Validate** Toep assen op dezelfde cmdlet of functie.</span><span class="sxs-lookup"><span data-stu-id="d7b55-167">You can't apply both a **ValidatePattern** and **ValidateSet** to the same cmdlet or function.</span></span>

<span data-ttu-id="d7b55-168">Als u dat wel doet, overschrijft de **ValidatePattern** de **validatieset**.</span><span class="sxs-lookup"><span data-stu-id="d7b55-168">If you do, the **ValidatePattern** overrides the **ValidateSet**.</span></span>

<span data-ttu-id="d7b55-169">Bekijk voor meer informatie over **ValidatePattern** [dit *Hoi, Scripting Guy!* post](https://devblogs.microsoft.com/scripting/validate-powershell-parameters-before-running-the-script/) en de referentie-inhoud voor [reguliere Power shell-expressies](/powershell/module/microsoft.powershell.core/about/about_regular_expressions) .</span><span class="sxs-lookup"><span data-stu-id="d7b55-169">For more information about **ValidatePattern**, check out [this *Hey, Scripting Guy!* post](https://devblogs.microsoft.com/scripting/validate-powershell-parameters-before-running-the-script/) and the [PowerShell Regular Expressions](/powershell/module/microsoft.powershell.core/about/about_regular_expressions) reference content.</span></span>

### <a name="allowing-external-commands-and-powershell-scripts"></a><span data-ttu-id="d7b55-170">Externe opdrachten en Power shell-scripts toestaan</span><span class="sxs-lookup"><span data-stu-id="d7b55-170">Allowing external commands and PowerShell scripts</span></span>

<span data-ttu-id="d7b55-171">Als u wilt toestaan dat gebruikers uitvoer bare en Power shell-scripts (. ps1) uitvoeren in een JEA-sessie, moet u het volledige pad toevoegen aan elk programma in het veld **VisibleExternalCommands** .</span><span class="sxs-lookup"><span data-stu-id="d7b55-171">To allow users to run executables and PowerShell scripts (.ps1) in a JEA session, you have to add the full path to each program in the **VisibleExternalCommands** field.</span></span>

```powershell
VisibleExternalCommands = 'C:\Windows\System32\whoami.exe', 'C:\Program Files\Contoso\Scripts\UpdateITSoftware.ps1'
```

<span data-ttu-id="d7b55-172">Als dat mogelijk is, kunt u de Power shell-cmdlet of functie equivalenten gebruiken voor externe uitvoer bare bestanden die u machtigt, omdat u de controle hebt over de para meters die zijn toegestaan met Power shell-cmdlets en-functies</span><span class="sxs-lookup"><span data-stu-id="d7b55-172">Where possible, to use PowerShell cmdlet or function equivalents for any external executables you authorize since you have control over the parameters allowed with PowerShell cmdlets and functions.</span></span>

<span data-ttu-id="d7b55-173">Met veel uitvoer bare bestanden kunt u de huidige status lezen en deze vervolgens wijzigen door verschillende para meters op te geven.</span><span class="sxs-lookup"><span data-stu-id="d7b55-173">Many executables allow you to read the current state and then change it by providing different parameters.</span></span>

<span data-ttu-id="d7b55-174">Denk bijvoorbeeld aan de rol van een bestands Server beheerder die netwerk shares beheert die worden gehost op een systeem.</span><span class="sxs-lookup"><span data-stu-id="d7b55-174">For example, consider the role of a file server admin that manages network shares hosted on a system.</span></span> <span data-ttu-id="d7b55-175">Een manier om shares te beheren, `net share`is het gebruik van.</span><span class="sxs-lookup"><span data-stu-id="d7b55-175">One way of managing shares is to use `net share`.</span></span> <span data-ttu-id="d7b55-176">Het toestaan van **net. exe** is echter gevaarlijk omdat de gebruiker de opdracht kan gebruiken om beheerders bevoegdheden te `net group Administrators unprivilegedjeauser /add`verkrijgen met.</span><span class="sxs-lookup"><span data-stu-id="d7b55-176">However, allowing **net.exe** is dangerous because the user could use the command to gain admin privileges with `net group Administrators unprivilegedjeauser /add`.</span></span> <span data-ttu-id="d7b55-177">Een veiligere optie is om [Get-SmbShare](/powershell/module/smbshare/get-smbshare)toe te staan, waardoor hetzelfde resultaat wordt gerealiseerd, maar een veel beperkt bereik heeft.</span><span class="sxs-lookup"><span data-stu-id="d7b55-177">A more secure option is to allow [Get-SmbShare](/powershell/module/smbshare/get-smbshare), which achieves the same result but has a much more limited scope.</span></span>

<span data-ttu-id="d7b55-178">Wanneer u externe opdrachten beschikbaar wilt maken voor gebruikers in een JEA-sessie, geeft u altijd het volledige pad naar het uitvoer bare bestand op.</span><span class="sxs-lookup"><span data-stu-id="d7b55-178">When making external commands available to users in a JEA session, always specify the complete path to the executable.</span></span> <span data-ttu-id="d7b55-179">Dit voor komt dat de uitvoering van op dezelfde wijze benoemde en mogelijk schadelijke Program ma's elders op het systeem wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="d7b55-179">This prevents the execution of similarly named and potentially malicious programs located elsewhere on the system.</span></span>

### <a name="allowing-access-to-powershell-providers"></a><span data-ttu-id="d7b55-180">Toegang tot Power shell-providers toestaan</span><span class="sxs-lookup"><span data-stu-id="d7b55-180">Allowing access to PowerShell providers</span></span>

<span data-ttu-id="d7b55-181">Standaard zijn er geen Power shell-providers beschikbaar in JEA-sessies.</span><span class="sxs-lookup"><span data-stu-id="d7b55-181">By default, no PowerShell providers are available in JEA sessions.</span></span> <span data-ttu-id="d7b55-182">Dit vermindert het risico van gevoelige informatie en configuratie-instellingen die worden gepresenteerd aan de gebruiker die verbinding maakt.</span><span class="sxs-lookup"><span data-stu-id="d7b55-182">This reduces the risk of sensitive information and configuration settings being disclosed to the connecting user.</span></span>

<span data-ttu-id="d7b55-183">Als dat nodig is, kunt u toegang tot de Power shell- `VisibleProviders` providers toestaan met behulp van de opdracht.</span><span class="sxs-lookup"><span data-stu-id="d7b55-183">When necessary, you can allow access to the PowerShell providers using the `VisibleProviders` command.</span></span> <span data-ttu-id="d7b55-184">Voer uit `Get-PSProvider`voor een volledige lijst met providers.</span><span class="sxs-lookup"><span data-stu-id="d7b55-184">For a full list of providers, run `Get-PSProvider`.</span></span>

```powershell
VisibleProviders = 'Registry'
```

<span data-ttu-id="d7b55-185">Voor eenvoudige taken waarvoor toegang tot het bestands systeem, het REGI ster, het certificaat archief of andere gevoelige providers vereist is, kunt u een aangepaste functie schrijven die werkt met de provider namens de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="d7b55-185">For simple tasks that require access to the file system, registry, certificate store, or other sensitive providers, consider writing a custom function that works with the provider on the user's behalf.</span></span> <span data-ttu-id="d7b55-186">De functies, cmdlets en externe Program ma's die beschikbaar zijn in een JEA-sessie, zijn niet onderhevig aan dezelfde beperkingen als JEA.</span><span class="sxs-lookup"><span data-stu-id="d7b55-186">The functions, cmdlets, and external programs available in a JEA session aren't subject to the same constraints as JEA.</span></span> <span data-ttu-id="d7b55-187">Ze hebben standaard toegang tot elke provider.</span><span class="sxs-lookup"><span data-stu-id="d7b55-187">They can access any provider by default.</span></span> <span data-ttu-id="d7b55-188">Overweeg ook het gebruik van het [gebruikers station](session-configurations.md#user-drive) bij het kopiëren van bestanden naar of van een JEA-eind punt.</span><span class="sxs-lookup"><span data-stu-id="d7b55-188">Also consider using the [user drive](session-configurations.md#user-drive) when copying files to or from a JEA endpoint is required.</span></span>

### <a name="creating-custom-functions"></a><span data-ttu-id="d7b55-189">Aangepaste functies maken</span><span class="sxs-lookup"><span data-stu-id="d7b55-189">Creating custom functions</span></span>

<span data-ttu-id="d7b55-190">U kunt aangepaste functies in een functie-mogelijkheidsprofiel ontwerpen om complexe taken voor uw eind gebruikers te vereenvoudigen.</span><span class="sxs-lookup"><span data-stu-id="d7b55-190">You can author custom functions in a role capability file to simplify complex tasks for your end users.</span></span> <span data-ttu-id="d7b55-191">Aangepaste functies zijn ook handig als u geavanceerde validatie logica nodig hebt voor cmdlet-parameter waarden.</span><span class="sxs-lookup"><span data-stu-id="d7b55-191">Custom functions are also useful when you require advanced validation logic for cmdlet parameter values.</span></span> <span data-ttu-id="d7b55-192">U kunt eenvoudige functies schrijven in het veld **FunctionDefinitions** :</span><span class="sxs-lookup"><span data-stu-id="d7b55-192">You can write simple functions in the **FunctionDefinitions** field:</span></span>

```powershell
VisibleFunctions = 'Get-TopProcess'

FunctionDefinitions = @{
    Name = 'Get-TopProcess'

    ScriptBlock = {
        param($Count = 10)

        Get-Process | Sort-Object -Property CPU -Descending |
            Microsoft.PowerShell.Utility\Select-Object -First $Count
    }
}
```

> [!IMPORTANT]
> <span data-ttu-id="d7b55-193">Vergeet niet om de naam van uw aangepaste functies toe te voegen aan het veld **VisibleFunctions** zodat deze door de JEA-gebruikers kunnen worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="d7b55-193">Don't forget to add the name of your custom functions to the **VisibleFunctions** field so they can be run by the JEA users.</span></span>

<span data-ttu-id="d7b55-194">De hoofd tekst (script blok) van aangepaste functies wordt uitgevoerd in de standaard taal modus voor het systeem en is niet onderhevig aan de taal beperkingen van de JEA.</span><span class="sxs-lookup"><span data-stu-id="d7b55-194">The body (script block) of custom functions runs in the default language mode for the system and isn't subject to JEA's language constraints.</span></span> <span data-ttu-id="d7b55-195">Dit betekent dat functies toegang hebben tot het bestands systeem en het REGI ster en om opdrachten uit te voeren die niet zichtbaar zijn gemaakt in het functie-Capability-bestand.</span><span class="sxs-lookup"><span data-stu-id="d7b55-195">This means that functions can access the file system and registry, and run commands that weren't made visible in the role capability file.</span></span> <span data-ttu-id="d7b55-196">Zorg ervoor dat u geen wille keurige code uitvoert wanneer para meters worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="d7b55-196">Take care to avoid running arbitrary code when using parameters.</span></span> <span data-ttu-id="d7b55-197">Vermijd de gebruikers invoer van sluizen rechtstreeks in cmdlets zoals `Invoke-Expression`.</span><span class="sxs-lookup"><span data-stu-id="d7b55-197">Avoid piping user input directly into cmdlets like `Invoke-Expression`.</span></span>

<span data-ttu-id="d7b55-198">In het bovenstaande voor beeld ziet u dat de volledig gekwalificeerde module naam (FQMN `Microsoft.PowerShell.Utility\Select-Object` ) is gebruikt in plaats van `Select-Object`de steno.</span><span class="sxs-lookup"><span data-stu-id="d7b55-198">In the above example, notice that the fully qualified module name (FQMN) `Microsoft.PowerShell.Utility\Select-Object` was used instead of the shorthand `Select-Object`.</span></span>
<span data-ttu-id="d7b55-199">Functies die zijn gedefinieerd in de functie-Capability-bestanden, zijn nog steeds afhankelijk van het bereik van JEA-sessies. Dit omvat de proxy functies JEA maakt om bestaande opdrachten te beperken.</span><span class="sxs-lookup"><span data-stu-id="d7b55-199">Functions defined in role capability files are still subject to the scope of JEA sessions, which includes the proxy functions JEA creates to constrain existing commands.</span></span>

<span data-ttu-id="d7b55-200">Standaard `Select-Object` is een beperkte cmdlet in alle JEA-sessies die niet toestaan dat wille keurige eigenschappen van objecten worden geselecteerd.</span><span class="sxs-lookup"><span data-stu-id="d7b55-200">By default, `Select-Object` is a constrained cmdlet in all JEA sessions that doesn't allow the selection of arbitrary properties on objects.</span></span> <span data-ttu-id="d7b55-201">U kunt de volledige implementatie expliciet `Select-Object` aanvragen met behulp van de FQMN om de onbeperkte functies te gebruiken.</span><span class="sxs-lookup"><span data-stu-id="d7b55-201">To use the unconstrained `Select-Object` in functions, you must explicitly request the full implementation using the FQMN.</span></span> <span data-ttu-id="d7b55-202">Een beperkte cmdlet in een JEA-sessie heeft dezelfde beperkingen als deze worden aangeroepen vanuit een functie.</span><span class="sxs-lookup"><span data-stu-id="d7b55-202">Any constrained cmdlet in a JEA session has the same constraints when invoked from a function.</span></span> <span data-ttu-id="d7b55-203">Zie [about_Command_Precedence](/powershell/module/microsoft.powershell.core/about/about_command_precedence)voor meer informatie.</span><span class="sxs-lookup"><span data-stu-id="d7b55-203">For more information, see [about_Command_Precedence](/powershell/module/microsoft.powershell.core/about/about_command_precedence).</span></span>

<span data-ttu-id="d7b55-204">Als u verschillende aangepaste functies schrijft, is het handiger om ze in een Power shell-script module te plaatsen.</span><span class="sxs-lookup"><span data-stu-id="d7b55-204">If you're writing several custom functions, it's more convenient to put them in a PowerShell script module.</span></span> <span data-ttu-id="d7b55-205">U maakt deze functies zichtbaar in de JEA-sessie met behulp van het veld **VisibleFunctions** , zoals u dat ook zou doen met ingebouwde en modules van derden.</span><span class="sxs-lookup"><span data-stu-id="d7b55-205">You make those functions visible in the JEA session using the **VisibleFunctions** field like you would with built-in and third-party modules.</span></span>

<span data-ttu-id="d7b55-206">Voor een juiste werking van de tabtoets in JEA-sessies moet u de ingebouwde functie `tabexpansion2` opnemen in de **VisibleFunctions** -lijst.</span><span class="sxs-lookup"><span data-stu-id="d7b55-206">For tab completion to work properly in JEA sessions you must include the built-in function `tabexpansion2` in the **VisibleFunctions** list.</span></span>

## <a name="make-the-role-capabilities-available-to-a-configuration"></a><span data-ttu-id="d7b55-207">De functie mogelijkheden beschikbaar maken voor een configuratie</span><span class="sxs-lookup"><span data-stu-id="d7b55-207">Make the role capabilities available to a configuration</span></span>

<span data-ttu-id="d7b55-208">Vóór Power shell 6, voor Power shell om een functie bestand te vinden, moet het worden opgeslagen in een **RoleCapabilities** -map in een Power shell-module.</span><span class="sxs-lookup"><span data-stu-id="d7b55-208">Prior to PowerShell 6, for PowerShell to find a role capability file it must be stored in a **RoleCapabilities** folder in a PowerShell module.</span></span> <span data-ttu-id="d7b55-209">De module kan worden opgeslagen in een map die is opgenomen `$env:PSModulePath` in de omgevings variabele, maar mag niet `$env:SystemRoot\System32` worden geplaatst in of een map waarin niet-vertrouwde gebruikers de bestanden kunnen wijzigen.</span><span class="sxs-lookup"><span data-stu-id="d7b55-209">The module can be stored in any folder included in the `$env:PSModulePath` environment variable, however you shouldn't place it in `$env:SystemRoot\System32` or a folder where untrusted users could modify the files.</span></span>

<span data-ttu-id="d7b55-210">In het volgende voor beeld wordt een Power shell **ContosoJEA** -script module `$env:ProgramFiles` gemaakt met de naam ContosoJEA in het pad voor het hosten van het bestand met functie mogelijkheden.</span><span class="sxs-lookup"><span data-stu-id="d7b55-210">The following example creates a PowerShell script module called **ContosoJEA** in the `$env:ProgramFiles` path to host the role capabilities file.</span></span>

```powershell
# Create a folder for the module
$modulePath = Join-Path $env:ProgramFiles "WindowsPowerShell\Modules\ContosoJEA"
New-Item -ItemType Directory -Path $modulePath

# Create an empty script module and module manifest.
# At least one file in the module folder must have the same name as the folder itself.
New-Item -ItemType File -Path (Join-Path $modulePath "ContosoJEAFunctions.psm1")
New-ModuleManifest -Path (Join-Path $modulePath "ContosoJEA.psd1") -RootModule "ContosoJEAFunctions.psm1"

# Create the RoleCapabilities folder and copy in the PSRC file
$rcFolder = Join-Path $modulePath "RoleCapabilities"
New-Item -ItemType Directory $rcFolder
Copy-Item -Path .\MyFirstJEARole.psrc -Destination $rcFolder
```

<span data-ttu-id="d7b55-211">Zie [Wat is een Power shell-module](/powershell/scripting/developer/windows-powershell)? voor meer informatie over Power shell-modules.</span><span class="sxs-lookup"><span data-stu-id="d7b55-211">For more information about PowerShell modules, see [Understanding a PowerShell Module](/powershell/scripting/developer/windows-powershell).</span></span>

<span data-ttu-id="d7b55-212">Vanaf Power shell 6 is de eigenschap **RoleDefinitions** toegevoegd aan het configuratie bestand van de sessie.</span><span class="sxs-lookup"><span data-stu-id="d7b55-212">Starting in PowerShell 6, the **RoleDefinitions** property was added to the session configuration file.</span></span> <span data-ttu-id="d7b55-213">Met deze eigenschap kunt u de locatie van een functie configuratie bestand opgeven voor de roldefinitie.</span><span class="sxs-lookup"><span data-stu-id="d7b55-213">This property lets you specify the location of a role configuration file for your role definition.</span></span> <span data-ttu-id="d7b55-214">Zie de voor beelden in [New-PSSessionConfigurationFile](/powershell/module/microsoft.powershell.core/new-pssessionconfigurationfile).</span><span class="sxs-lookup"><span data-stu-id="d7b55-214">See the examples in [New-PSSessionConfigurationFile](/powershell/module/microsoft.powershell.core/new-pssessionconfigurationfile).</span></span>

## <a name="updating-role-capabilities"></a><span data-ttu-id="d7b55-215">De functie mogelijkheden worden bijgewerkt</span><span class="sxs-lookup"><span data-stu-id="d7b55-215">Updating role capabilities</span></span>

<span data-ttu-id="d7b55-216">U kunt een functie-mogelijkheidsprofiel bewerken om de instellingen op elk gewenst moment bij te werken.</span><span class="sxs-lookup"><span data-stu-id="d7b55-216">You can edit a role capability file to update the settings at any time.</span></span> <span data-ttu-id="d7b55-217">Nieuwe JEA-sessies die zijn gestart nadat de functie mogelijkheid is bijgewerkt, worden weer gegeven in de gewijzigde mogelijkheden.</span><span class="sxs-lookup"><span data-stu-id="d7b55-217">Any new JEA sessions started after the role capability has been updated will reflect the revised capabilities.</span></span>

<span data-ttu-id="d7b55-218">Daarom is het belang rijk om de toegang tot de map functie mogelijkheden te beheren.</span><span class="sxs-lookup"><span data-stu-id="d7b55-218">This is why controlling access to the role capabilities folder is so important.</span></span> <span data-ttu-id="d7b55-219">Alleen zeer vertrouwde beheerders mogen de functie-Capability-bestanden wijzigen.</span><span class="sxs-lookup"><span data-stu-id="d7b55-219">Only highly trusted administrators should be allowed to change role capability files.</span></span> <span data-ttu-id="d7b55-220">Als een niet-vertrouwde gebruiker de functie-Capability-bestanden kan wijzigen, kunnen ze eenvoudig toegang krijgen tot cmdlets die hen in staat stellen hun bevoegdheden uit te breiden.</span><span class="sxs-lookup"><span data-stu-id="d7b55-220">If an untrusted user can change role capability files, they can easily give themselves access to cmdlets that allow them to elevate their privileges.</span></span>

<span data-ttu-id="d7b55-221">Voor beheerders die de toegang tot de functie mogelijkheden willen vergren delen, zorgt u ervoor dat het lokale systeem lees toegang heeft tot de functie bestanden en modules bevat.</span><span class="sxs-lookup"><span data-stu-id="d7b55-221">For administrators looking to lock down access to the role capabilities, ensure Local System has read access to the role capability files and containing modules.</span></span>

## <a name="how-role-capabilities-are-merged"></a><span data-ttu-id="d7b55-222">Hoe functie mogelijkheden worden samengevoegd</span><span class="sxs-lookup"><span data-stu-id="d7b55-222">How role capabilities are merged</span></span>

<span data-ttu-id="d7b55-223">Gebruikers krijgen toegang tot alle overeenkomende functie mogelijkheden in het [sessie configuratie bestand](session-configurations.md) wanneer ze een JEA-sessie invoeren.</span><span class="sxs-lookup"><span data-stu-id="d7b55-223">Users are granted access to all matching role capabilities in the [session configuration file](session-configurations.md) when they enter a JEA session.</span></span> <span data-ttu-id="d7b55-224">JEA probeert de gebruiker de meest strikte set opdrachten te geven die is toegestaan door een van de rollen.</span><span class="sxs-lookup"><span data-stu-id="d7b55-224">JEA tries to give the user the most permissive set of commands allowed by any of the roles.</span></span>

### <a name="visiblecmdlets-and-visiblefunctions"></a><span data-ttu-id="d7b55-225">VisibleCmdlets en VisibleFunctions</span><span class="sxs-lookup"><span data-stu-id="d7b55-225">VisibleCmdlets and VisibleFunctions</span></span>

<span data-ttu-id="d7b55-226">De meest complexe samenvoeg logica heeft gevolgen voor cmdlets en functies, die de para meters en parameter waarden kunnen hebben beperkt in JEA.</span><span class="sxs-lookup"><span data-stu-id="d7b55-226">The most complex merge logic affects cmdlets and functions, which can have their parameters and parameter values limited in JEA.</span></span>

<span data-ttu-id="d7b55-227">De regels zijn als volgt:</span><span class="sxs-lookup"><span data-stu-id="d7b55-227">The rules are as follows:</span></span>

1. <span data-ttu-id="d7b55-228">Als een cmdlet alleen zichtbaar wordt gemaakt in de ene rol, is deze zichtbaar voor de gebruiker met alle toepasselijke parameter beperkingen.</span><span class="sxs-lookup"><span data-stu-id="d7b55-228">If a cmdlet is only made visible in one role, it is visible to the user with any applicable parameter constraints.</span></span>
2. <span data-ttu-id="d7b55-229">Als een cmdlet in meer dan één rol zichtbaar is en elke rol dezelfde beperkingen heeft voor de cmdlet, is de cmdlet zichtbaar voor de gebruiker met die beperkingen.</span><span class="sxs-lookup"><span data-stu-id="d7b55-229">If a cmdlet is made visible in more than one role, and each role has the same constraints on the cmdlet, the cmdlet is visible to the user with those constraints.</span></span>
3. <span data-ttu-id="d7b55-230">Als een cmdlet in meer dan één rol zichtbaar is en elke rol een andere set para meters toestaat, zijn de cmdlets en alle para meters die zijn gedefinieerd voor elke rol zichtbaar voor de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="d7b55-230">If a cmdlet is made visible in more than one role, and each role allows a different set of parameters, the cmdlet and all the parameters defined across every role are visible to the user.</span></span>
   <span data-ttu-id="d7b55-231">Als een rol geen beperkingen voor de para meters heeft, zijn alle para meters toegestaan.</span><span class="sxs-lookup"><span data-stu-id="d7b55-231">If one role doesn't have constraints on the parameters, all parameters are allowed.</span></span>
4. <span data-ttu-id="d7b55-232">Als een van de rollen een validatieset of validatie patroon voor een cmdlet-para meter definieert en de andere functie de para meter toestaat, maar de parameter waarden niet beperkt, wordt de set of het patroon valideren genegeerd.</span><span class="sxs-lookup"><span data-stu-id="d7b55-232">If one role defines a validate set or validate pattern for a cmdlet parameter, and the other role allows the parameter but does not constrain the parameter values, the validate set or pattern is ignored.</span></span>
5. <span data-ttu-id="d7b55-233">Als er in meer dan één rol een validate-set is gedefinieerd voor dezelfde cmdlet-para meter, zijn alle waarden van alle validatie sets toegestaan.</span><span class="sxs-lookup"><span data-stu-id="d7b55-233">If a validate set is defined for the same cmdlet parameter in more than one role, all values from all validate sets are allowed.</span></span>
6. <span data-ttu-id="d7b55-234">Als er in meer dan één rol een validatie patroon is gedefinieerd voor dezelfde cmdlet-para meter, zijn waarden die overeenkomen met een van de patronen toegestaan.</span><span class="sxs-lookup"><span data-stu-id="d7b55-234">If a validate pattern is defined for the same cmdlet parameter in more than one role, any values that match any of the patterns are allowed.</span></span>
7. <span data-ttu-id="d7b55-235">Als er een validate-set is gedefinieerd in een of meer rollen en een validatie patroon is gedefinieerd in een andere rol voor dezelfde cmdlet-para meter, wordt de set validate genegeerd en regel (6) van toepassing op de resterende validatie patronen.</span><span class="sxs-lookup"><span data-stu-id="d7b55-235">If a validate set is defined in one or more roles, and a validate pattern is defined in another role for the same cmdlet parameter, the validate set is ignored and rule (6) applies to the remaining validate patterns.</span></span>

<span data-ttu-id="d7b55-236">Hieronder ziet u een voor beeld van hoe rollen worden samengevoegd volgens deze regels:</span><span class="sxs-lookup"><span data-stu-id="d7b55-236">Below is an example of how roles are merged according to these rules:</span></span>

```powershell
# Role A Visible Cmdlets
$roleA = @{
    VisibleCmdlets = 'Get-Service',
                     @{ Name = 'Restart-Service';
                        Parameters = @{ Name = 'DisplayName'; ValidateSet = 'DNS Client' } }
}

# Role B Visible Cmdlets
$roleB = @{
    VisibleCmdlets = @{ Name = 'Get-Service';
                        Parameters = @{ Name = 'DisplayName'; ValidatePattern = 'DNS.*' } },
                     @{ Name = 'Restart-Service';
                        Parameters = @{ Name = 'DisplayName'; ValidateSet = 'DNS Server' } }
}

# Resulting permissions for a user who belongs to both role A and B
# - The constraint in role B for the DisplayName parameter on Get-Service
#   is ignored because of rule #4
# - The ValidateSets for Restart-Service are merged because both roles use
#   ValidateSet on the same parameter per rule #5
$mergedAandB = @{
    VisibleCmdlets = 'Get-Service',
                     @{ Name = 'Restart-Service';
                        Parameters = @{ Name = 'DisplayName'; ValidateSet = 'DNS Client', 'DNS Server' } }
}
```

### <a name="visibleexternalcommands-visiblealiases-visibleproviders-scriptstoprocess"></a><span data-ttu-id="d7b55-237">VisibleExternalCommands, VisibleAliases, VisibleProviders, ScriptsToProcess</span><span class="sxs-lookup"><span data-stu-id="d7b55-237">VisibleExternalCommands, VisibleAliases, VisibleProviders, ScriptsToProcess</span></span>

<span data-ttu-id="d7b55-238">Alle andere velden in het bestand met de functie worden toegevoegd aan een cumulatieve set toegestane externe opdrachten, aliassen, providers en opstart scripts.</span><span class="sxs-lookup"><span data-stu-id="d7b55-238">All other fields in the role capability file are added to a cumulative set of allowable external commands, aliases, providers, and startup scripts.</span></span> <span data-ttu-id="d7b55-239">Alle opdrachten, aliassen, providers of scripts die beschikbaar zijn in een functie mogelijkheid, zijn beschikbaar voor de JEA-gebruiker.</span><span class="sxs-lookup"><span data-stu-id="d7b55-239">Any command, alias, provider, or script available in one role capability is available to the JEA user.</span></span>

<span data-ttu-id="d7b55-240">Zorg ervoor dat de gecombineerde set providers van de ene functie mogelijkheid en cmdlets/functions/functies/opdrachten van een andere gebruikers geen onbedoelde toegang tot systeem bronnen biedt.</span><span class="sxs-lookup"><span data-stu-id="d7b55-240">Be careful to ensure that the combined set of providers from one role capability and cmdlets/functions/commands from another don't allow users unintentional access to system resources.</span></span>
<span data-ttu-id="d7b55-241">Als bijvoorbeeld de ene rol de `Remove-Item` cmdlet toestaat en een andere de `FileSystem` provider toestaat, loopt u het risico dat een JEA-gebruiker wille keurige bestanden op uw computer verwijdert.</span><span class="sxs-lookup"><span data-stu-id="d7b55-241">For example, if one role allows the `Remove-Item` cmdlet and another allows the `FileSystem` provider, you are at risk of a JEA user deleting arbitrary files on your computer.</span></span> <span data-ttu-id="d7b55-242">Meer informatie over het identificeren van de juiste machtigingen van gebruikers vindt u in het artikel [controle JEA](audit-and-report.md) .</span><span class="sxs-lookup"><span data-stu-id="d7b55-242">Additional information about identifying users' effective permissions can be found in the [auditing JEA](audit-and-report.md) article.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d7b55-243">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="d7b55-243">Next steps</span></span>

[<span data-ttu-id="d7b55-244">Een configuratie bestand voor de sessie maken</span><span class="sxs-lookup"><span data-stu-id="d7b55-244">Create a session configuration file</span></span>](session-configurations.md)
