---
title: Aanvragen van bevestiging van Cmdlets | Microsoft Docs
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- ConfirmImpact [PowerShell Programmer's Guide], described
- ShouldContinue [PowerShell Programmer's Guide], described
- user feedback [PowerShell Programmer's Guide], requesting
- ShouldProcess [PowerShell Programmer's Guide], described
- ConfirmPreference [PowerShell Programmer's Guide], described
ms.assetid: 37d6e87f-57b7-40bd-b645-392cf0b6e88e
caps.latest.revision: 13
ms.openlocfilehash: 0c0517ef7fbd5ae6434773a2dfe276f3a8c35f39
ms.sourcegitcommit: e7445ba8203da304286c591ff513900ad1c244a4
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 04/23/2019
ms.locfileid: "62067481"
---
# <a name="requesting-confirmation-from-cmdlets"></a><span data-ttu-id="4363b-102">Bevestiging vragen vanuit cmdlets</span><span class="sxs-lookup"><span data-stu-id="4363b-102">Requesting Confirmation from Cmdlets</span></span>

<span data-ttu-id="4363b-103">Cmdlets moet bevestiging vragen wanneer ze worden uitgevoerd over op een wijziging aanbrengt in het systeem die buiten de Windows PowerShell-omgeving.</span><span class="sxs-lookup"><span data-stu-id="4363b-103">Cmdlets should request confirmation when they are about to make a change to the system that is outside of the Windows PowerShell environment.</span></span> <span data-ttu-id="4363b-104">Bijvoorbeeld, als een cmdlet is een gebruikersaccount toevoegen of een proces beëindigen, moet de cmdlet vragen om bevestiging van de gebruiker voordat deze wordt voortgezet.</span><span class="sxs-lookup"><span data-stu-id="4363b-104">For example, if a cmdlet is about to add a user account or stop a process, the cmdlet should require confirmation from the user before it proceeds.</span></span> <span data-ttu-id="4363b-105">Daarentegen als een cmdlet is gewijzigd van een Windows PowerShell-variabele, hoeft de cmdlet niet te vragen om bevestiging.</span><span class="sxs-lookup"><span data-stu-id="4363b-105">In contrast, if a cmdlet is about to change a Windows PowerShell variable, the cmdlet does not need to require confirmation.</span></span>

<span data-ttu-id="4363b-106">Als u wilt een bevestiging indienen, de cmdlet moet erop wijzen dat deze bevestiging aanvragen ondersteunt, en moet worden aangeroepen de [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) en [ System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) (optioneel) methoden om een aanvraag bevestigingsbericht weer te geven.</span><span class="sxs-lookup"><span data-stu-id="4363b-106">In order to make a confirmation request, the cmdlet must indicate that it supports confirmation requests, and it must call the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) and [System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) (optional) methods to display a confirmation request message.</span></span>

## <a name="supporting-confirmation-requests"></a><span data-ttu-id="4363b-107">Ondersteunende bevestiging aanvragen</span><span class="sxs-lookup"><span data-stu-id="4363b-107">Supporting Confirmation Requests</span></span>

<span data-ttu-id="4363b-108">Ter ondersteuning van bevestiging aanvragen, de cmdlet moet instellen de `SupportsShouldProcess` parameter van het kenmerk Cmdlet `true`.</span><span class="sxs-lookup"><span data-stu-id="4363b-108">To support confirmation requests, the cmdlet must set the `SupportsShouldProcess` parameter of the Cmdlet attribute to `true`.</span></span> <span data-ttu-id="4363b-109">Hierdoor kunnen de `Confirm` en `WhatIf` cmdlet-parameters die worden geleverd door Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="4363b-109">This enables the `Confirm` and `WhatIf` cmdlet parameters that are provided by Windows PowerShell.</span></span> <span data-ttu-id="4363b-110">De `Confirm` parameter zorgt ervoor dat de gebruiker om te bepalen of de gebeurtenisbevestigingsaanvraag wordt weergegeven.</span><span class="sxs-lookup"><span data-stu-id="4363b-110">The `Confirm` parameter allows the user to control whether the confirmation request is displayed.</span></span> <span data-ttu-id="4363b-111">De `WhatIf` parameter zorgt ervoor dat de gebruiker om te bepalen of de cmdlet moet een bericht weergegeven of de bijbehorende actie uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="4363b-111">The `WhatIf` parameter allows the user to determine whether the cmdlet should display a message or perform its action.</span></span> <span data-ttu-id="4363b-112">Niet handmatig toevoegt de `Confirm` en `WhatIf` parameters aan een cmdlet.</span><span class="sxs-lookup"><span data-stu-id="4363b-112">Do not manually add the `Confirm` and `WhatIf` parameters to a cmdlet.</span></span>

<span data-ttu-id="4363b-113">Het volgende voorbeeld ziet de declaratie van een Cmdlet-kenmerk die ondersteuning biedt voor bevestiging aanvragen.</span><span class="sxs-lookup"><span data-stu-id="4363b-113">The following example shows a Cmdlet attribute declaration that supports confirmation requests.</span></span>

```csharp
[Cmdlet(VerbsDiagnostic.Test, "RequestConfirmationTemplate1",
        SupportsShouldProcess = true)]
```

## <a name="calling-the-confirmation-request-methods"></a><span data-ttu-id="4363b-114">Aanroepen van de methoden van de aanvraag voor bevestiging</span><span class="sxs-lookup"><span data-stu-id="4363b-114">Calling the Confirmation request methods</span></span>

<span data-ttu-id="4363b-115">In de code van de cmdlet, aanroepen de [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) methode voordat de bewerking die het systeem wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="4363b-115">In the cmdlet code, call the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) method before the operation that changes the system is performed.</span></span> <span data-ttu-id="4363b-116">Ontwerp van de cmdlet zo dat als de aanroep een waarde van retourneert `false`, de bewerking is niet uitgevoerd en de volgende bewerking door de cmdlet wordt verwerkt.</span><span class="sxs-lookup"><span data-stu-id="4363b-116">Design the cmdlet so that if the call returns a value of `false`, the operation is not performed, and the cmdlet processes the next operation.</span></span>

## <a name="calling-the-shouldcontinue-method"></a><span data-ttu-id="4363b-117">Aanroepen van de methode ShouldContinue</span><span class="sxs-lookup"><span data-stu-id="4363b-117">Calling the ShouldContinue Method</span></span>

<span data-ttu-id="4363b-118">De meeste cmdlets aanvragen bevestiging met alleen de [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) methode.</span><span class="sxs-lookup"><span data-stu-id="4363b-118">Most cmdlets request confirmation using only the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) method.</span></span> <span data-ttu-id="4363b-119">Sommige gevallen mogelijk echter extra bevestiging.</span><span class="sxs-lookup"><span data-stu-id="4363b-119">However, some cases might require additional confirmation.</span></span> <span data-ttu-id="4363b-120">Voor deze gevallen vormen een aanvulling op de [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) aanroepen met een aanroep naar de [System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) methode.</span><span class="sxs-lookup"><span data-stu-id="4363b-120">For these cases, supplement the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) call with a call to the [System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) method.</span></span> <span data-ttu-id="4363b-121">Hiermee wordt de cmdlet of de provider voor het beheren van meer fijn het bereik van de **Ja op Alles** reactie op de bevestiging wordt gevraagd.</span><span class="sxs-lookup"><span data-stu-id="4363b-121">This allows the cmdlet or provider to more finely control the scope of the **Yes to all** response to the confirmation prompt.</span></span>

<span data-ttu-id="4363b-122">Als een cmdlet roept de [System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) methode, de cmdlet moet ook beschikken over een `Force` overschakelen van de parameter.</span><span class="sxs-lookup"><span data-stu-id="4363b-122">If a cmdlet calls the [System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) method, the cmdlet must also provide a `Force` switch parameter.</span></span> <span data-ttu-id="4363b-123">Als de gebruiker opgeeft `Force` wanneer de gebruiker de cmdlet, er nog steeds de cmdlet moet aanroepen [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess), maar deze moet de aanroep van overslaan [ System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue).</span><span class="sxs-lookup"><span data-stu-id="4363b-123">If the user specifies `Force` when the user invokes the cmdlet, the cmdlet should still call [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess), but it should bypass the call to [System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue).</span></span>

<span data-ttu-id="4363b-124">[System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) een uitzondering genereert wanneer deze wordt aangeroepen vanuit een niet-interactieve omgeving waar de gebruiker kan niet worden gevraagd.</span><span class="sxs-lookup"><span data-stu-id="4363b-124">[System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue) will throw an exception when it is called from a non-interactive environment where the user cannot be prompted.</span></span> <span data-ttu-id="4363b-125">Toevoegen van een `Force` parameter zorgt ervoor dat de opdracht nog steeds kan worden uitgevoerd wanneer deze wordt aangeroepen in een niet-interactieve omgeving.</span><span class="sxs-lookup"><span data-stu-id="4363b-125">Adding a `Force` parameter ensures that the command can still be performed when it is invoked in a non-interactive environment.</span></span>

<span data-ttu-id="4363b-126">Het volgende voorbeeld laat zien hoe u aan te roepen [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) en [System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue).</span><span class="sxs-lookup"><span data-stu-id="4363b-126">The following example shows how to call [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) and [System.Management.Automation.Cmdlet.ShouldContinue](/dotnet/api/System.Management.Automation.Cmdlet.ShouldContinue).</span></span>

```csharp
if (ShouldProcess (...) )
{
  if (Force || ShouldContinue(...))
  {
     // Add code that performs the operation.
  }
}
```

<span data-ttu-id="4363b-127">Het gedrag van een [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) aanroep kan variëren afhankelijk van de omgeving waarin de cmdlet wordt aangeroepen.</span><span class="sxs-lookup"><span data-stu-id="4363b-127">The behavior of a [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) call can vary depending on the environment in which the cmdlet is invoked.</span></span> <span data-ttu-id="4363b-128">Met de vorige richtlijnen helpt ervoor te zorgen dat de cmdlet gedrag consistent met andere cmdlets, ongeacht de hostomgeving.</span><span class="sxs-lookup"><span data-stu-id="4363b-128">Using the previous guidelines will help ensure that the cmdlet behaves consistently with other cmdlets, regardless of the host environment.</span></span>

<span data-ttu-id="4363b-129">Voor een voorbeeld van aanroepen de [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) methode, Zie [hoe aanvragen bevestigingen](./how-to-request-confirmations.md).</span><span class="sxs-lookup"><span data-stu-id="4363b-129">For an example of calling the [System.Management.Automation.Cmdlet.ShouldProcess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) method, see [How to Request Confirmations](./how-to-request-confirmations.md).</span></span>

## <a name="specify-the-impact-level"></a><span data-ttu-id="4363b-130">Geef het niveau van Impact</span><span class="sxs-lookup"><span data-stu-id="4363b-130">Specify the Impact Level</span></span>

<span data-ttu-id="4363b-131">Wanneer u de cmdlet maakt, geeft u het niveau van impact (ernst) van de wijziging.</span><span class="sxs-lookup"><span data-stu-id="4363b-131">When you create the cmdlet, specify the impact level (the severity) of the change.</span></span> <span data-ttu-id="4363b-132">Om dit te doen, stel de waarde van de `ConfirmImpact` parameter van het kenmerk Cmdlet te hoog, Gemiddeld of laag.</span><span class="sxs-lookup"><span data-stu-id="4363b-132">To do this, set the value of the `ConfirmImpact` parameter of the Cmdlet attribute to High, Medium, or Low.</span></span> <span data-ttu-id="4363b-133">U kunt een waarde opgeven voor `ConfirmImpact` alleen wanneer u ook opgeven de `SupportsShouldProcess` parameter voor de cmdlet.</span><span class="sxs-lookup"><span data-stu-id="4363b-133">You can specify a value for `ConfirmImpact` only when you also specify the `SupportsShouldProcess` parameter for the cmdlet.</span></span>

<span data-ttu-id="4363b-134">Voor de meeste cmdlets, u geen expliciet opgeven `ConfirmImpact`.</span><span class="sxs-lookup"><span data-stu-id="4363b-134">For most cmdlets, you do not have to explicitly specify `ConfirmImpact`.</span></span>  <span data-ttu-id="4363b-135">In plaats daarvan gebruik de standaardinstelling van de parameter, dit is normaal.</span><span class="sxs-lookup"><span data-stu-id="4363b-135">Instead, use the default setting of the parameter, which is Medium.</span></span> <span data-ttu-id="4363b-136">Als u `ConfirmImpact` in hoog, zal de bewerking worden bevestigd standaard.</span><span class="sxs-lookup"><span data-stu-id="4363b-136">If you set `ConfirmImpact` to High, the operation will be confirmed by default.</span></span> <span data-ttu-id="4363b-137">Deze instelling voor maximaal verstorende acties, zoals een harde schijf formatteren reserveren.</span><span class="sxs-lookup"><span data-stu-id="4363b-137">Reserve this setting for highly disruptive actions, such as reformatting a hard-disk volume.</span></span>

## <a name="calling-non-confirmation-methods"></a><span data-ttu-id="4363b-138">Aanroepen van methoden van niet-bevestiging</span><span class="sxs-lookup"><span data-stu-id="4363b-138">Calling Non-Confirmation Methods</span></span>

<span data-ttu-id="4363b-139">Als de cmdlet of de provider moet een bericht verzenden, maar geen bevestiging wordt gevraagd, kan de volgende drie methoden aanroepen.</span><span class="sxs-lookup"><span data-stu-id="4363b-139">If the cmdlet or provider must send a message but not request confirmation, it can call the following three methods.</span></span> <span data-ttu-id="4363b-140">Vermijd het gebruik van de [System.Management.Automation.Cmdlet.WriteObject](/dotnet/api/System.Management.Automation.Cmdlet.WriteObject) methode voor het verzenden van berichten van de volgende typen omdat [System.Management.Automation.Cmdlet.WriteObject](/dotnet/api/System.Management.Automation.Cmdlet.WriteObject) uitvoer wordt weergegeven met de normale uitvoer van de cmdlet of de provider waardoor script schrijven lastig.</span><span class="sxs-lookup"><span data-stu-id="4363b-140">Avoid using the [System.Management.Automation.Cmdlet.WriteObject](/dotnet/api/System.Management.Automation.Cmdlet.WriteObject) method to send messages of these types because [System.Management.Automation.Cmdlet.WriteObject](/dotnet/api/System.Management.Automation.Cmdlet.WriteObject) output is intermingled with the normal output of your cmdlet or provider, which makes script writing difficult.</span></span>

- <span data-ttu-id="4363b-141">De gebruiker waarschuwen en doorgaan met de bewerking, de cmdlet of de provider kunt aanroepen de [System.Management.Automation.Cmdlet.WriteWarning](/dotnet/api/System.Management.Automation.Cmdlet.WriteWarning) methode.</span><span class="sxs-lookup"><span data-stu-id="4363b-141">To caution the user and continue with the operation, the cmdlet or provider can call the [System.Management.Automation.Cmdlet.WriteWarning](/dotnet/api/System.Management.Automation.Cmdlet.WriteWarning) method.</span></span>

- <span data-ttu-id="4363b-142">Voor aanvullende informatie die de gebruiker kunt ophalen met de `Verbose` parameter, de cmdlet of de provider kunt aanroepen de [System.Management.Automation.Cmdlet.WriteVerbose](/dotnet/api/System.Management.Automation.Cmdlet.WriteVerbose) methode.</span><span class="sxs-lookup"><span data-stu-id="4363b-142">To provide additional information that the user can retrieve using the `Verbose` parameter, the cmdlet or provider can call the [System.Management.Automation.Cmdlet.WriteVerbose](/dotnet/api/System.Management.Automation.Cmdlet.WriteVerbose) method.</span></span>

- <span data-ttu-id="4363b-143">Voor foutopsporing op serverniveau details voor andere ontwikkelaars of voor ondersteuning voor het product, de cmdlet of de provider kunt aanroepen de [System.Management.Automation.Cmdlet.WriteDebug](/dotnet/api/System.Management.Automation.Cmdlet.WriteDebug) methode.</span><span class="sxs-lookup"><span data-stu-id="4363b-143">To provide debugging-level detail for other developers or for product support, the cmdlet or provider can call the [System.Management.Automation.Cmdlet.WriteDebug](/dotnet/api/System.Management.Automation.Cmdlet.WriteDebug) method.</span></span> <span data-ttu-id="4363b-144">De gebruiker kunt ophalen met deze informatie met behulp van de `Debug` parameter.</span><span class="sxs-lookup"><span data-stu-id="4363b-144">The user can retrieve this information using the `Debug` parameter.</span></span>

<span data-ttu-id="4363b-145">Aanroepen de volgende methoden om bevestiging wordt gevraagd voordat ze proberen om uit te voeren een bewerking die een systeem buiten Windows PowerShell-cmdlets en providers:</span><span class="sxs-lookup"><span data-stu-id="4363b-145">Cmdlets and providers first call the following methods to request confirmation before they attempt to perform an operation that changes a system outside of Windows PowerShell:</span></span>

- [<span data-ttu-id="4363b-146">System.Management.Automation.Cmdlet.Shouldprocess</span><span class="sxs-lookup"><span data-stu-id="4363b-146">System.Management.Automation.Cmdlet.Shouldprocess</span></span>](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess)

- [<span data-ttu-id="4363b-147">System.Management.Automation.Provider.Cmdletprovider.Shouldprocess</span><span class="sxs-lookup"><span data-stu-id="4363b-147">System.Management.Automation.Provider.Cmdletprovider.Shouldprocess</span></span>](/dotnet/api/System.Management.Automation.Provider.CmdletProvider.ShouldProcess)

<span data-ttu-id="4363b-148">Zij dit doen door het aanroepen van de [System.Management.Automation.Cmdlet.Shouldprocess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) methode, waarbij u wordt gevraagd de gebruikers om bevestiging van de bewerking op basis van hoe de gebruiker de opdracht aangeroepen.</span><span class="sxs-lookup"><span data-stu-id="4363b-148">They do so by calling the [System.Management.Automation.Cmdlet.Shouldprocess](/dotnet/api/System.Management.Automation.Cmdlet.ShouldProcess) method, which prompts the user to confirm the operation based on how the user invoked the command.</span></span>

## <a name="see-also"></a><span data-ttu-id="4363b-149">Zie ook</span><span class="sxs-lookup"><span data-stu-id="4363b-149">See Also</span></span>

[<span data-ttu-id="4363b-150">Schrijven van een Windows PowerShell-Cmdlet</span><span class="sxs-lookup"><span data-stu-id="4363b-150">Writing a Windows PowerShell Cmdlet</span></span>](./writing-a-windows-powershell-cmdlet.md)
